


<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title>CoffeeScript</title>
  <link rel="canonical" href="http://coffeescript.com.br" />
  <link rel="stylesheet" type="text/css" href="documentation/css/docs.css" />
  <link rel="stylesheet" type="text/css" href="documentation/css/idle.css" />
  <link rel="shortcut icon" href="documentation/images/favicon.ico" />
</head>
<body>

  <div id="fadeout"></div>

  <div id="flybar">
    <a id="logo" href="#top"> </a>
    <div class="navigation toc">
      <div class="button">
        Índice
      </div>
      <div class="contents menu">
        <a href="#overview">Visão Geral</a>
        <a href="#installation">Instalação</a>
        <a href="#usage">Uso</a>
        <a href="#language">Referência da Linguagem</a>
        <a href="#literals">Literais: Funções, Objetos e Arrays</a>
        <a href="#lexical_scope">Escopo Léxico e Segurança de Variável</a>
        <a href="#conditionals">If, Else, Unless, e Atribuição Condicional</a>
        <a href="#splats">Splats...</a>
        <a href="#loops">Laços e Compreensões de Listas</a>
        <a href="#slices">Fatiamento e Substituição com Intervalos de Arrays</a>
        <a href="#expressions">Tudo é uma Expressão</a>
        <a href="#operators">Operadores e Aliases</a>
        <a href="#classes">Classes, Herança, e Superclasses</a>
        <a href="#destructuring">Atribuição de Troca</a>
        <a href="#fat_arrow">Vinculação de Funções</a>
        <a href="#embedded">JavaScript Incorporado</a>
        <a href="#switch">Switch e Try/Catch</a>
        <a href="#comparisons">Multi Comparações</a>
        <a href="#strings">Interpolação, Blocos de Strings, e Blocos de Comentários</a>
        <a href="#regexes">Blocos de Expressões Regulares</a>
        <a href="#cake">Cake, e Cakefiles</a>
        <a href="#scripts">Tags de Script "text/coffeescript"</a>
        <a href="#resources">Livros, Screencasts, Exemplos e Fontes</a>
        <a href="#changelog">Log de Mudanças</a>
      </div>
    </div>
    <div class="navigation try">
      <div class="button">
        Experimente CoffeeScript
        <div class="repl_bridge"></div>
      </div>
      <div class="contents repl_wrapper">
        <div class="code">
          <div class="screenshadow tl"></div>
          <div class="screenshadow tr"></div>
          <div class="screenshadow bl"></div>
          <div class="screenshadow br"></div>
          <div id="repl_source_wrap">
            <textarea id="repl_source" rows="100" spellcheck="false">alert "Olá CoffeeScript!"</textarea>
          </div>
          <div id="repl_results_wrap"><pre id="repl_results"></pre></div>
          <div class="minibutton dark run" title="Ctrl-Enter">Executar</div>
          <a class="minibutton permalink" id="repl_permalink">Link</a>
          <br class="clear" />
        </div>
      </div>
    </div>
    <div class="navigation annotated">
      <div class="button">
        Código Comentado
      </div>
      <div class="contents menu">
        <a href="documentation/docs/grammar.html">Regras Gramaticais &mdash; src/grammar</a>
        <a href="documentation/docs/lexer.html">Tokens Léxicos &mdash; src/lexer</a>
        <a href="documentation/docs/rewriter.html">O Rewriter &mdash; src/rewriter</a>
        <a href="documentation/docs/nodes.html">A Árvore de Sintaxe &mdash; src/nodes</a>
        <a href="documentation/docs/scope.html">Escopo Léxico &mdash; src/scope</a>
        <a href="documentation/docs/helpers.html">Helpers &amp; Utility Functions &mdash; src/helpers</a>
        <a href="documentation/docs/coffee-script.html">O Módulo CoffeeScript &mdash; src/coffee-script</a>
        <a href="documentation/docs/cake.html">Cake &amp; Cakefiles &mdash; src/cake</a>
        <a href="documentation/docs/command.html">Utilitário de Linha de Comando "coffee" &mdash; src/command</a>
        <a href="documentation/docs/optparse.html">Parser de Opções &mdash; src/optparse</a>
        <a href="documentation/docs/repl.html">REPL Interativo &mdash; src/repl</a>
      </div>
    </div>
    <div id="error" style="display:none;"></div>
  </div>

  <div class="container">
    <span class="bookmark" id="top"></span>

    <p>
      <b>CoffeeScript é uma pequena linguagem que compila para JavaScript.</b>
      Por baixo de todas essas chaves e ponto-e-vírgulas inconvenientes, JavaScript sempre teve
      um lindo modelo de objeto em seu coração. CoffeeScript é uma tentativa de expor
      as partes boas de JavaScript de uma maneira simples.
    </p>

    <p>
      A regra de ouro do CoffeeScript é: "<i>É apenas JavaScript</i>". O código
      compila para um JS equivalente, e não há uma interpretação em tempo de execução (runtime).
      Você pode usar qualquer biblioteca JavaScript existente sem problemas de CoffeeScript (e vice-versa).
      A saída compilada é legível e bem impressa, passa pelo <a href="http://www.javascriptlint.com/">JavaScript Lint</a>
      sem advertências, funcionará em qualquer <em>runtime</em> JavaScript, e tende a
      executar tão ou mais rápido que o JavaScript equivalente escrito a mão.
    </p>

    <p>
      <b>Versão Mais Recente:</b>
      <a href="http://github.com/jashkenas/coffee-script/tarball/1.3.3">1.3.3</a>
    </p>

    <h2>
      <span id="overview" class="bookmark"></span>
      Visão Geral
    </h2>

    <p><i>CoffeeScript à esquerda, saída compilada de JavaScript à direita.</i></p>

    <div class='code'><pre class="idle"><span class="Comment"><span class="Comment">#</span> Atribuições:</span>
number   <span class="Keyword">=</span> <span class="Number">42</span>
opposite <span class="Keyword">=</span> <span class="BuiltInConstant">true</span>

<span class="Comment"><span class="Comment">#</span> Condições:</span>
number <span class="Keyword">=</span> <span class="Keyword">-</span><span class="Number">42</span> <span class="Keyword">if</span> opposite

<span class="Comment"><span class="Comment">#</span> Funções:</span>
<span class="FunctionName">square </span><span class="Keyword">=</span> <span class="FunctionArgument">(x)</span> <span class="Storage">-&gt;</span> x <span class="Keyword">*</span> x

<span class="Comment"><span class="Comment">#</span> Arrays:</span>
list <span class="Keyword">=</span> [<span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>]

<span class="Comment"><span class="Comment">#</span> Objetos:</span>
math <span class="Keyword">=</span>
  root:   Math.sqrt
  square: square
  <span class="FunctionName">cube</span><span class="Keyword">:</span>   <span class="FunctionArgument">(x)</span> <span class="Storage">-&gt;</span> x <span class="Keyword">*</span> square x

<span class="Comment"><span class="Comment">#</span> Splats:</span>
<span class="FunctionName">race </span><span class="Keyword">=</span> <span class="FunctionArgument">(winner, runners...)</span> <span class="Storage">-&gt;</span>
  print winner, runners

<span class="Comment"><span class="Comment">#</span> Teste de existência:</span>
alert <span class="String"><span class="String">&quot;</span>I knew it!<span class="String">&quot;</span></span> <span class="Keyword">if</span> elvis<span class="Keyword">?</span>

<span class="Comment"><span class="Comment">#</span> Compreensões de Arrays:</span>
cubes <span class="Keyword">=</span> (math.cube num <span class="Keyword">for</span> num <span class="Keyword">in</span> list)
</pre><pre class="idle"><span class="Storage">var</span> cubes, list, math, num, number, opposite, race, square,
  __slice <span class="Keyword">=</span> [].slice;

number <span class="Keyword">=</span> <span class="Number">42</span>;

opposite <span class="Keyword">=</span> <span class="BuiltInConstant">true</span>;

<span class="Keyword">if</span> (opposite) {
  number <span class="Keyword">=</span> <span class="Keyword">-</span><span class="Number">42</span>;
}

<span class="FunctionName">square</span> = <span class="Storage">function</span>(<span class="FunctionArgument">x</span>) {
  <span class="Keyword">return</span> x <span class="Keyword">*</span> x;
};

list <span class="Keyword">=</span> [<span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>];

math <span class="Keyword">=</span> {
  root: <span class="LibraryClassType">Math</span>.sqrt,
  square: square,
  <span class="FunctionName">cube</span>: <span class="Storage">function</span>(<span class="FunctionArgument">x</span>) {
    <span class="Keyword">return</span> x <span class="Keyword">*</span> square(x);
  }
};

<span class="FunctionName">race</span> = <span class="Storage">function</span>() {
  <span class="Storage">var</span> runners, winner;
  winner <span class="Keyword">=</span> arguments[<span class="Number">0</span>], runners <span class="Keyword">=</span> <span class="Number">2</span> <span class="Keyword">&lt;=</span> arguments.<span class="LibraryConstant">length</span> ? __slice.<span class="LibraryFunction">call</span>(arguments, <span class="Number">1</span>) : [];
  <span class="Keyword">return</span> <span class="LibraryFunction">print</span>(winner, runners);
};

<span class="Keyword">if</span> (<span class="Keyword">typeof</span> elvis <span class="Keyword">!</span><span class="Keyword">==</span> <span class="String"><span class="String">&quot;</span>undefined<span class="String">&quot;</span></span> <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> elvis <span class="Keyword">!</span><span class="Keyword">==</span> <span class="BuiltInConstant">null</span>) {
  <span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>I knew it!<span class="String">&quot;</span></span>);
}

cubes <span class="Keyword">=</span> (<span class="Storage">function</span>() {
  <span class="Storage">var</span> _i, _len, _results;
  _results <span class="Keyword">=</span> [];
  <span class="Keyword">for</span> (_i <span class="Keyword">=</span> <span class="Number">0</span>, _len <span class="Keyword">=</span> list.<span class="LibraryConstant">length</span>; _i <span class="Keyword">&lt;</span> _len; _i<span class="Keyword">++</span>) {
    num <span class="Keyword">=</span> list[_i];
    _results.<span class="LibraryFunction">push</span>(math.cube(num));
  }
  <span class="Keyword">return</span> _results;
})();
</pre><script>window.example1 = "# Atribuições:\nnumber   = 42\nopposite = true\n\n# Condições:\nnumber = -42 if opposite\n\n# Funções:\nsquare = (x) -> x * x\n\n# Arrays:\nlist = [1, 2, 3, 4, 5]\n\n# Objetos:\nmath =\n  root:   Math.sqrt\n  square: square\n  cube:   (x) -> x * square x\n\n# Splats:\nrace = (winner, runners...) ->\n  print winner, runners\n\n# Teste de existência:\nalert \"I knew it!\" if elvis?\n\n# Compreensões de Arrays:\ncubes = (math.cube num for num in list)\n\nalert cubes"</script><div class='minibutton ok' onclick='javascript: var cubes, list, math, num, number, opposite, race, square,
  __slice = [].slice;

number = 42;

opposite = true;

if (opposite) {
  number = -42;
}

square = function(x) {
  return x * x;
};

list = [1, 2, 3, 4, 5];

math = {
  root: Math.sqrt,
  square: square,
  cube: function(x) {
    return x * square(x);
  }
};

race = function() {
  var runners, winner;
  winner = arguments[0], runners = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
  return print(winner, runners);
};

if (typeof elvis !== "undefined" && elvis !== null) {
  alert("I knew it!");
}

cubes = (function() {
  var _i, _len, _results;
  _results = [];
  for (_i = 0, _len = list.length; _i < _len; _i++) {
    num = list[_i];
    _results.push(math.cube(num));
  }
  return _results;
})();
;alert(cubes);'>executar: cubes</div><br class='clear' /></div>

    <h2>
      <span id="installation" class="bookmark"></span>
      Instalação
    </h2>

    <p>
      O próprio compilador CoffeeScript é
      <a href="documentation/docs/grammar.html">escrito em CoffeeScript</a>,
      usando o <a href="http://jison.org">gerador analítico Jison</a>. A
      versão de linha de comando de <tt>coffee</tt> está disponível como um
      utilitário <a href="http://nodejs.org/">Node.js</a>. O
      <a href="extras/coffee-script.js">núcleo de compilador</a> entretanto, não
      depende do Node, e pode ser executado em qualquer ambiente JavaScript, ou no
      navegador (veja "Experimente CoffeeScript", acima).
    </p>

    <p>
      Para instalar, primeiramente tenha certeza de que você tenha uma cópia da última
      versão estável do <a href="http://nodejs.org/">Node.js</a>, e do <a href="http://npmjs.org">npm</a>
      (o Gerenciador de Pacotes do Node – <em>Node Package Manager</em>). Você então
      poderá instalar o CoffeeScript com o npm:
    </p>

    <pre>
npm install -g coffee-script</pre>

    <p>
      (Deixe de fora o <tt>-g</tt> se você não quiser instalar globalmente.)
    </p>

    <p>
      Se você preferir instalar a versão mais recente do CoffeeScript, você pode clonar o
      <a href="http://github.com/jashkenas/coffee-script">repositório do código fonte</a>
      do CoffeeScript no GitHub, ou fazer o download do
      <a href="http://github.com/jashkenas/coffee-script/tarball/master">código fonte</a> diretamente.
      Para instalar o compilador CoffeeScript para todo o sistema
      em <tt>/usr/local</tt>, abra o diretório e execute:
    </p>

  <pre>
sudo bin/cake install</pre>

    <h2>
      <span id="usage" class="bookmark"></span>
      Uso
    </h2>

    <p>
      Depois de instalado, você deverá ter acesso ao comando <tt>coffee</tt>,
      que pode executar scripts, compilar arquivos <tt>.coffee</tt> para <tt>.js</tt>,
      e fornecer um REPL (Read-Eval-Print-Loop) interativo. O comando <tt>coffee</tt>
      aceita as seguintes opções:
    </p>

    <table>
      <tr>
        <td><code>-c, --compile</code></td>
        <td>
          Compila um script <tt>.coffee</tt> para um arquivo JavaScript <tt>.js</tt>
          com o mesmo nome.
        </td>
      </tr>
      <tr>
        <td width="25%"><code>-i, --interactive</code></td>
        <td>
          Inicia uma sessão interativa de CoffeeScript para execução de pequenos trechos.
          Idêntico ao chamar <tt>coffee</tt> sem argumentos.
        </td>
      </tr>
      <tr>
        <td><code>-o, --output [DIR]</code></td>
        <td>
          Escreve todos os aquivos JavaScript compilados no diretório especificado.
          Use em conjunto com <tt>--compile</tt> ou <tt>--watch</tt>.
        </td>
      </tr>
      <tr>
        <td><code>-j, --join [FILE]</code></td>
        <td>
          Antes de compilar, concatena todos os scrips juntos na mesma ordem em que
          forem passados, e os escreve no arquivo especificdo.
          Útil na construção de grandes projetos.
        </td>
      </tr>
      <tr>
        <td><code>-w, --watch</code></td>
        <td>
          Observa os arquivos por modificações, reexecutando o comando especificdo
          quando qualquer arquivo for atualizado.
        </td>
      </tr>
      <tr>
        <td><code>-p, --print</code></td>
        <td>
          Em vez de escrever o JavaScript como um arquivo, imprime
          diretamente na <b>saída padrão</b> (stdout).
        </td>
      </tr>
      <tr>
        <td><code>-l, --lint</code></td>
        <td>
          Se o comando <tt>jsl</tt>
          (<a href="http://www.javascriptlint.com/">JavaScript Lint</a>)
          está instalado, use-o para verificar a compilação de um
          arquivo CoffeeScript. (Conveniente em conjunto com <br /> <tt>--watch</tt>)
        </td>
      </tr>
      <tr>
        <td><code>-s, --stdio</code></td>
        <td>
          Passa o CoffeeScript para STDIN e recupera o JavaScript pela STDOUT.
          Bom para uso com processos escritos em outras linguagens. Por exemplo:<br />
          <tt>cat src/cake.coffee | coffee -sc</tt>
        </td>
      </tr>
      <tr>
        <td><code>-e, --eval</code></td>
        <td>
          Compila e imprime um pequeno fragmento de CoffeeScript diretamente da
          linha de comando. Por exemplo:<br /><tt>coffee -e "console.log num for num in [10..1]"</tt>
        </td>
      </tr>
      <tr>
        <td><code>-r, --require</code></td>
        <td>
          Carrega uma biblioteca antes de compilar ou executar seu script. Pode ser
          usado para ligar algo ao compilador (para adicionar notificações Growl, por exemplo).
        </td>
      </tr>
      <tr>
        <td><code>-b, --bare</code></td>
        <td>
          Compila o JavaScript sem a
          <a href="#lexical_scope">função de segurança de alto nível</a>.
        </td>
      </tr>
      <tr>
        <td><code>-t, --tokens</code></td>
        <td>
          Em vez de realizar a análise sintática (parse) do CoffeeScript, apenas
          realiza a analise léxica e imprime o fluxo de tokens:
          <tt>[IDENTIFIER square] [ASSIGN =] [PARAM_START (]</tt> ...
        </td>
      </tr>
      <tr>
        <td><code>-n, --nodes</code></td>
        <td>
          Em vez de compilar o CoffeeScript, apenas realiza as análises léxica e sintática,
          e imprime a árvore sintática:
<pre class="no_bar">
Expressions
  Assign
    Value "square"
    Code "x"
      Op *
        Value "x"
        Value "x"</pre>
        </td>
      </tr>
      <tr>
        <td><code>--nodejs</code></td>
        <td>
          O <tt>node</tt> executável tem algumas opções úteis que você pode especificar,
          como <tt>--debug</tt>, <tt>--debug-brk</tt> e <tt>--max-stack-size</tt>. Use esta
          <em>flag</em> para passar as opções diretamente ao Node.js.
        </td>
      </tr>
    </table>

    <p>
      <b>Exemplos:</b>
    </p>

    <ul>
      <li>
        Compila uma árvore de diretório de arquivos <tt>.coffee</tt> em <tt>src</tt> em
        uma árvore paralela dos arquivos <tt>.js</tt> em <tt>lib</tt>:<br />
        <tt>coffee --compile --output lib/ src/</tt>
      </li>
      <li>
        Observa um arquivo por alterações, e o recompila toda vez que o arquivo é salvo:<br />
        <tt>coffee --watch --compile experimental.coffee</tt>
      </li>
      <li>
        Concatena uma lista de arquivos em um único script:<br />
        <tt>coffee --join project.js --compile src/*.coffee</tt>
      </li>
      <li>
        Imprime o JS compilado de uma linha:<br />
        <tt>coffee -bpe "alert i for i in [0..10]"</tt>
      </li>
      <li>
        Tudo junto agora, observa e recompila um projeto inteiro enquanto você trabalha nele:<br />
        <tt>coffee -o lib/ -cw src/</tt>
      </li>
      <li>
        Inicial o CoffeeScript REPL (<tt>Ctrl-D</tt> para sair, <tt>Ctrl-V</tt> para multi-linha):<br />
        <tt>coffee</tt>
      </li>
    </ul>

    <h2>
      <span id="language" class="bookmark"></span>
      Referência da Linguagem
    </h2>

    <p>
      <i>
        Esta referência está estruturada de maneira que possa ser lida de cima para
        baixo, se desejar. Ao decorrer do documento, as seções usam idéias e sintaxes anteriormente
        introduzidas. É necessário ter familiaridade com JavaScript. Em todos os
        exemplos seguintes, o código CoffeeScript é fornecido ao lado esquerdo,
        e a compilação direta para JavaScript está ao lado direito.
      </i>
    </p>

    <p>
      <i>
        Muitos dos exemplos podem ser executados (os que fazem sentido), pressionando
        o botão <b>executar</b> à direita, e pode ser carregado no console "Experimente CoffeeScript"
        pressionando o botão <b>carregar</b> do lado esquerdo.
      </i>
    <p>
      Primeiramente, o básico: CoffeeScript usa espaços em branco para delimitar blocos de código.
      Você não precisa usar ponto-e-vígulas <tt>;</tt> ao témino de uma expressão,
      terminar a linha terá o mesmo resultado (embora ainda seja possível utilizar ponto-e-vígula
      para delimitar várias expressões em uma mesma linha).
      Em vez de usar chaves <tt>{ }</tt> para agrupar blocos de código em <a href="#literals">funções</a>,
      <a href="#conditionals"><em>if</em></a>,
      <a href="#switch"><em>switch</em></a>, e <a href="#try">try/catch</a>,
      use indentação.
    </p>

    <p>
      Você não precisa usar parênteses para invocar uma função se você estiver
      passando argumentos. A chamada agrupa implicitamente até o fim da linha ou da expressão de bloco.<br />
      <tt>console.log sys.inspect object</tt> &rarr; <tt>console.log(sys.inspect(object));</tt>
    </p>

    <p>
      <span id="literals" class="bookmark"></span>
      <b class="header">Funções</b>
      Funções são definidas por uma lista de parâmetros opcionais entre parênteses,
      uma seta, e o corpo da função. A função vazia parece assim: <tt>-></tt>
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">square </span><span class="Keyword">=</span> <span class="FunctionArgument">(x)</span> <span class="Storage">-&gt;</span> x <span class="Keyword">*</span> x
<span class="FunctionName">cube   </span><span class="Keyword">=</span> <span class="FunctionArgument">(x)</span> <span class="Storage">-&gt;</span> square(x) <span class="Keyword">*</span> x
</pre><pre class="idle"><span class="Storage">var</span> cube, square;

<span class="FunctionName">square</span> = <span class="Storage">function</span>(<span class="FunctionArgument">x</span>) {
  <span class="Keyword">return</span> x <span class="Keyword">*</span> x;
};

<span class="FunctionName">cube</span> = <span class="Storage">function</span>(<span class="FunctionArgument">x</span>) {
  <span class="Keyword">return</span> square(x) <span class="Keyword">*</span> x;
};
</pre><script>window.example2 = "square = (x) -> x * x\ncube   = (x) -> square(x) * x\n\nalert cube(5)"</script><div class='minibutton load' onclick='javascript: loadConsole(example2);'>carregar</div><div class='minibutton ok' onclick='javascript: var cube, square;

square = function(x) {
  return x * x;
};

cube = function(x) {
  return square(x) * x;
};
;alert(cube(5));'>executar: cube(5)</div><br class='clear' /></div>
    <p>
      Funções também podem ter valores padrão para argumentos. Sobrescreva o valor
      padrão passando um argumento não nulo.
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">fill </span><span class="Keyword">=</span> <span class="FunctionArgument">(container, liquid = &quot;coffee&quot;)</span> <span class="Storage">-&gt;</span>
  <span class="String"><span class="String">&quot;</span>Filling the <span class="String"><span class="String">#{</span>container<span class="String">}</span></span> with <span class="String"><span class="String">#{</span>liquid<span class="String">}</span></span>...<span class="String">&quot;</span></span>






</pre><pre class="idle"><span class="Storage">var</span> fill;

<span class="FunctionName">fill</span> = <span class="Storage">function</span>(<span class="FunctionArgument">container, liquid</span>) {
  <span class="Keyword">if</span> (liquid <span class="Keyword">==</span> <span class="BuiltInConstant">null</span>) {
    liquid <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>coffee<span class="String">&quot;</span></span>;
  }
  <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>Filling the <span class="String">&quot;</span></span> <span class="Keyword">+</span> container <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span> with <span class="String">&quot;</span></span> <span class="Keyword">+</span> liquid <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span>...<span class="String">&quot;</span></span>;
};
</pre><script>window.example3 = "fill = (container, liquid = \"coffee\") ->\n  \"Filling the #{container} with #{liquid}...\"\n\nalert fill(\"cup\")"</script><div class='minibutton load' onclick='javascript: loadConsole(example3);'>carregar</div><div class='minibutton ok' onclick='javascript: var fill;

fill = function(container, liquid) {
  if (liquid == null) {
    liquid = "coffee";
  }
  return "Filling the " + container + " with " + liquid + "...";
};
;alert(fill("cup"));'>executar: fill("cup")</div><br class='clear' /></div>

    <p>
      <span id="objects_and_arrays" class="bookmark"></span>
      <b class="header">Objetos e Arrays</b>
      Os literias de CoffeeScript para objtos e <em>arrays</em> se parecem bastante
      com seus primos JavaScript. Quando cada propriedade é listada em sua própria
      linha, as vírgulas são opcionais. Objetos devem ser criados usando indentação
      em vez de chaves explícitas, similar ao <a href="http://yaml.org">YAML</a>.
    </p>
    <div class='code'><pre class="idle">song <span class="Keyword">=</span> [<span class="String"><span class="String">&quot;</span>do<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>re<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>mi<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>fa<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>so<span class="String">&quot;</span></span>]

singers <span class="Keyword">=</span> {Jagger: <span class="String"><span class="String">&quot;</span>Rock<span class="String">&quot;</span></span>, Elvis: <span class="String"><span class="String">&quot;</span>Roll<span class="String">&quot;</span></span>}

bitlist <span class="Keyword">=</span> [
  <span class="Number">1</span>, <span class="Number">0</span>, <span class="Number">1</span>
  <span class="Number">0</span>, <span class="Number">0</span>, <span class="Number">1</span>
  <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">0</span>
]

kids <span class="Keyword">=</span>
  brother:
    name: <span class="String"><span class="String">&quot;</span>Max<span class="String">&quot;</span></span>
    age:  <span class="Number">11</span>
  sister:
    name: <span class="String"><span class="String">&quot;</span>Ida<span class="String">&quot;</span></span>
    age:  <span class="Number">9</span>


</pre><pre class="idle"><span class="Storage">var</span> bitlist, kids, singers, song;

song <span class="Keyword">=</span> [<span class="String"><span class="String">&quot;</span>do<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>re<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>mi<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>fa<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>so<span class="String">&quot;</span></span>];

singers <span class="Keyword">=</span> {
  Jagger: <span class="String"><span class="String">&quot;</span>Rock<span class="String">&quot;</span></span>,
  Elvis: <span class="String"><span class="String">&quot;</span>Roll<span class="String">&quot;</span></span>
};

bitlist <span class="Keyword">=</span> [<span class="Number">1</span>, <span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">0</span>, <span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">0</span>];

kids <span class="Keyword">=</span> {
  brother: {
    name: <span class="String"><span class="String">&quot;</span>Max<span class="String">&quot;</span></span>,
    age: <span class="Number">11</span>
  },
  sister: {
    name: <span class="String"><span class="String">&quot;</span>Ida<span class="String">&quot;</span></span>,
    age: <span class="Number">9</span>
  }
};
</pre><script>window.example4 = "song = [\"do\", \"re\", \"mi\", \"fa\", \"so\"]\n\nsingers = {Jagger: \"Rock\", Elvis: \"Roll\"}\n\nbitlist = [\n  1, 0, 1\n  0, 0, 1\n  1, 1, 0\n]\n\nkids =\n  brother:\n    name: \"Max\"\n    age:  11\n  sister:\n    name: \"Ida\"\n    age:  9\n\nalert song.join(\" ... \")"</script><div class='minibutton load' onclick='javascript: loadConsole(example4);'>carregar</div><div class='minibutton ok' onclick='javascript: var bitlist, kids, singers, song;

song = ["do", "re", "mi", "fa", "so"];

singers = {
  Jagger: "Rock",
  Elvis: "Roll"
};

bitlist = [1, 0, 1, 0, 0, 1, 1, 1, 0];

kids = {
  brother: {
    name: "Max",
    age: 11
  },
  sister: {
    name: "Ida",
    age: 9
  }
};
;alert(song.join(" ... "));'>executar: song.join(" ... ")</div><br class='clear' /></div>
    <p>
      Em JavaScript, você não pode usar palavras reservadas, como <tt>class</tt>, como
      propriedades de um objeto, sem envolvê-las com áspas como <em>strings</em>.
      CoffeeScript reconhece palavras reservadas usadas como chave (key) em um objeto
      e coloca áspas nelas para você, então você não precisa se preocupar com isso
      (por exemplo, quando usando jQuery).
    </p>
    <div class='code'><pre class="idle">$(<span class="String"><span class="String">'</span>.account<span class="String">'</span></span>).attr class: <span class="String"><span class="String">'</span>active<span class="String">'</span></span>

log object.<span class="Storage">class</span>


</pre><pre class="idle">
<span class="Keyword">$</span>(<span class="String"><span class="String">'</span>.account<span class="String">'</span></span>).attr({
  <span class="String"><span class="String">&quot;</span>class<span class="String">&quot;</span></span>: <span class="String"><span class="String">'</span>active<span class="String">'</span></span>
});

<span class="LibraryFunction">log</span>(object[<span class="String"><span class="String">&quot;</span>class<span class="String">&quot;</span></span>]);
</pre><script>window.example5 = "$('.account').attr class: 'active'\n\nlog object.class\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example5);'>carregar</div><br class='clear' /></div>

    <p>
      <span id="lexical_scope" class="bookmark"></span>
      <b class="header">Escopo Léxico e Segurança de Variáveis</b>
      O compilador CoffeeScript tem o cuidado de se certificar que todas as suas
      variáveis estão propriamente declaradas dentro de um escopo léxico &mdash;
      você mesmo nunca precisa escrever <tt>var</tt>.
    </p>
    <div class='code'><pre class="idle">outer <span class="Keyword">=</span> <span class="Number">1</span>
<span class="FunctionName">changeNumbers </span><span class="Keyword">=</span> <span class="Keyword">-</span><span class="Keyword">&gt;</span>
  inner <span class="Keyword">=</span> <span class="Keyword">-</span><span class="Number">1</span>
  outer <span class="Keyword">=</span> <span class="Number">10</span>
inner <span class="Keyword">=</span> changeNumbers()
</pre><pre class="idle"><span class="Storage">var</span> changeNumbers, inner, outer;

outer <span class="Keyword">=</span> <span class="Number">1</span>;

<span class="FunctionName">changeNumbers</span> = <span class="Storage">function</span>() {
  <span class="Storage">var</span> inner;
  inner <span class="Keyword">=</span> <span class="Keyword">-</span><span class="Number">1</span>;
  <span class="Keyword">return</span> outer <span class="Keyword">=</span> <span class="Number">10</span>;
};

inner <span class="Keyword">=</span> changeNumbers();
</pre><script>window.example6 = "outer = 1\nchangeNumbers = ->\n  inner = -1\n  outer = 10\ninner = changeNumbers()\n\nalert inner"</script><div class='minibutton load' onclick='javascript: loadConsole(example6);'>carregar</div><div class='minibutton ok' onclick='javascript: var changeNumbers, inner, outer;

outer = 1;

changeNumbers = function() {
  var inner;
  inner = -1;
  return outer = 10;
};

inner = changeNumbers();
;alert(inner);'>executar: inner</div><br class='clear' /></div>
    <p>
      Note como todas as declarações de variável foram colocadas no começo do
      escopo mais próximo, a primeira vez que elas aparecem.
      <b>outer</b> não está declarada dentro da função, porque ela já está no
      escopo; <b>inner</b> dentro da função, por outro lado, não deve ser capaz
      de mudar o valor da variável externa de mesmo nome, e portanto tem uma
      própria declaração.
    </p>
    <p>
      Este comportamento é efetivamente idêntico ao escopo de Ruby para variáveis
      locais. Pelo fato de você não ter acesso direto à palavra-chave <tt>var</tt>,
      é impossível esconder uma variável externa de propósito, você deve apenas
      se referir a ela. Então tenha cuidado com o reúso de um nome de variável
      externa acidentalmente, principalmente se você estiver escrevendo uma função
      profundamente aninhada.
    </p>
    <p>
      Embora suprimida nesta documentação para maior clareza, toda saída CoffeeScript é
      empacotada em uma função anônima: <tt>(function(){ ... })();</tt> Este
      empacotador seguro, combinado com a geração automática da palavra-chave
      <tt>var</tt>, faz com que seja extremamente difícil de poluir os espaços
      de nomes (namespace) globais por acidente.
    </p>
    <p>
      Se você quiser criar variáveis de nível superior para outros scripts usarem,
      anexe-as como propriedades em <b>window</b>, ou no objeto <b>exports</b> em
      CommonJS. O <b>operador existencial</b> (mostrado abaixo), fornece a você uma
      forma confiável de descobrir onde adicioná-las; se você quiser as duas coisas
      (CommonJS e o navegador): <tt>exports ? this</tt>
    </p>

    <p>
      <span id="conditionals" class="bookmark"></span>
      <b class="header">If, Else, Unless, e Atribuição Condicional</b>
      Declarações <b>If/else</b> podem ser escritas sem o uso de parênteses e chaves.
      Assim como funções e outras expressões de bloco, condicionais multi-linha são
      delimitados por indentação. Também existe uma forma pós-fixa, com o <tt>if</tt>
      ou <tt>unless</tt> ao final.
    </p>
    <p>
      CoffeeScript pode compilar declarações <b>if</b> para expressões JavaScript,
      usando o operador ternário quando possível, e blocos de chaves caso contrário.
      Não existe declaração ternária explícita em CoffeeScript &mdash; você simplesmente
      usa uma declaração <b>if</b> normal em uma mesma linha.
    </p>
    <div class='code'><pre class="idle">mood <span class="Keyword">=</span> greatlyImproved <span class="Keyword">if</span> singing

<span class="Keyword">if</span> happy <span class="Keyword">and</span> knowsIt
  clapsHands()
  chaChaCha()
<span class="Keyword">else</span>
  showIt()

date <span class="Keyword">=</span> <span class="Keyword">if</span> friday <span class="Keyword">then</span> sue <span class="Keyword">else</span> jill



</pre><pre class="idle"><span class="Storage">var</span> date, mood;

<span class="Keyword">if</span> (singing) {
  mood <span class="Keyword">=</span> greatlyImproved;
}

<span class="Keyword">if</span> (happy <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> knowsIt) {
  clapsHands();
  chaChaCha();
} <span class="Keyword">else</span> {
  showIt();
}

date <span class="Keyword">=</span> friday ? sue : jill;
</pre><script>window.example7 = "mood = greatlyImproved if singing\n\nif happy and knowsIt\n  clapsHands()\n  chaChaCha()\nelse\n  showIt()\n\ndate = if friday then sue else jill\n\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example7);'>carregar</div><br class='clear' /></div>

    <p>
      <span id="splats" class="bookmark"></span>
      <b class="header">Splats...</b>
      O <b>objeto de argumentos</b> de JavaScript é uma maneira útil de trabalhar
      com funções que aceitam um número variado de argumentos. CoffeeScript fornece
      <em>splats</em> <tt>...</tt>, tanto para definições de função quanto para
      invocações, fazendo com que o número variável de argumentos seja um pouco
      mais saboroso.
    </p>
    <div class='code'><pre class="idle">gold <span class="Keyword">=</span> silver <span class="Keyword">=</span> rest <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>unknown<span class="String">&quot;</span></span>

<span class="FunctionName">awardMedals </span><span class="Keyword">=</span> <span class="FunctionArgument">(first, second, others...)</span> <span class="Storage">-&gt;</span>
  gold   <span class="Keyword">=</span> first
  silver <span class="Keyword">=</span> second
  rest   <span class="Keyword">=</span> others

contenders <span class="Keyword">=</span> [
  <span class="String"><span class="String">&quot;</span>Michael Phelps<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Liu Xiang<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Yao Ming<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Allyson Felix<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Shawn Johnson<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Roman Sebrle<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Guo Jingjing<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Tyson Gay<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Asafa Powell<span class="String">&quot;</span></span>
  <span class="String"><span class="String">&quot;</span>Usain Bolt<span class="String">&quot;</span></span>
]

awardMedals contenders...

alert <span class="String"><span class="String">&quot;</span>Gold: <span class="String">&quot;</span></span> <span class="Keyword">+</span> gold
alert <span class="String"><span class="String">&quot;</span>Silver: <span class="String">&quot;</span></span> <span class="Keyword">+</span> silver
alert <span class="String"><span class="String">&quot;</span>The Field: <span class="String">&quot;</span></span> <span class="Keyword">+</span> rest


</pre><pre class="idle"><span class="Storage">var</span> awardMedals, contenders, gold, rest, silver,
  __slice <span class="Keyword">=</span> [].slice;

gold <span class="Keyword">=</span> silver <span class="Keyword">=</span> rest <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>unknown<span class="String">&quot;</span></span>;

<span class="FunctionName">awardMedals</span> = <span class="Storage">function</span>() {
  <span class="Storage">var</span> first, others, second;
  first <span class="Keyword">=</span> arguments[<span class="Number">0</span>], second <span class="Keyword">=</span> arguments[<span class="Number">1</span>], others <span class="Keyword">=</span> <span class="Number">3</span> <span class="Keyword">&lt;=</span> arguments.<span class="LibraryConstant">length</span> ? __slice.<span class="LibraryFunction">call</span>(arguments, <span class="Number">2</span>) : [];
  gold <span class="Keyword">=</span> first;
  silver <span class="Keyword">=</span> second;
  <span class="Keyword">return</span> rest <span class="Keyword">=</span> others;
};

contenders <span class="Keyword">=</span> [<span class="String"><span class="String">&quot;</span>Michael Phelps<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Liu Xiang<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Yao Ming<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Allyson Felix<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Shawn Johnson<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Roman Sebrle<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Guo Jingjing<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Tyson Gay<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Asafa Powell<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Usain Bolt<span class="String">&quot;</span></span>];

awardMedals.<span class="LibraryFunction">apply</span>(<span class="BuiltInConstant">null</span>, contenders);

<span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>Gold: <span class="String">&quot;</span></span> <span class="Keyword">+</span> gold);

<span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>Silver: <span class="String">&quot;</span></span> <span class="Keyword">+</span> silver);

<span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>The Field: <span class="String">&quot;</span></span> <span class="Keyword">+</span> rest);
</pre><script>window.example8 = "gold = silver = rest = \"unknown\"\n\nawardMedals = (first, second, others...) ->\n  gold   = first\n  silver = second\n  rest   = others\n\ncontenders = [\n  \"Michael Phelps\"\n  \"Liu Xiang\"\n  \"Yao Ming\"\n  \"Allyson Felix\"\n  \"Shawn Johnson\"\n  \"Roman Sebrle\"\n  \"Guo Jingjing\"\n  \"Tyson Gay\"\n  \"Asafa Powell\"\n  \"Usain Bolt\"\n]\n\nawardMedals contenders...\n\nalert \"Gold: \" + gold\nalert \"Silver: \" + silver\nalert \"The Field: \" + rest\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example8);'>carregar</div><div class='minibutton ok' onclick='javascript: var awardMedals, contenders, gold, rest, silver,
  __slice = [].slice;

gold = silver = rest = "unknown";

awardMedals = function() {
  var first, others, second;
  first = arguments[0], second = arguments[1], others = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
  gold = first;
  silver = second;
  return rest = others;
};

contenders = ["Michael Phelps", "Liu Xiang", "Yao Ming", "Allyson Felix", "Shawn Johnson", "Roman Sebrle", "Guo Jingjing", "Tyson Gay", "Asafa Powell", "Usain Bolt"];

awardMedals.apply(null, contenders);

alert("Gold: " + gold);

alert("Silver: " + silver);

alert("The Field: " + rest);
;'>executar</div><br class='clear' /></div>

    <p>
      <span id="loops" class="bookmark"></span>
      <b class="header">Laços e Compreensões de Listas</b>
      A maioria dos laços (<em>loops</em>) que você escreverá em CoffeeScript serão
      <b>compreensões de listas</b> em <em>arrays</em>, objetos, e intervalos (<em>ranges</em>).
      Compreensões de listas substituem (e compilam para) laços <b>for</b>, com
      cláusulas <em>guard</em> opcionais e o valor atual do índice do <em>array</em>.
      Diferente de laços, as <b>compreensões</b> são expressões, e podem ser retornadas
      e atribuídas.
    </p>
    <div class='code'><pre class="idle"><span class="Comment"><span class="Comment">#</span> Coma o almoço</span>
eat food <span class="Keyword">for</span> food <span class="Keyword">in</span> [<span class="String"><span class="String">'</span>toast<span class="String">'</span></span>, <span class="String"><span class="String">'</span>cheese<span class="String">'</span></span>, <span class="String"><span class="String">'</span>wine<span class="String">'</span></span>]

<span class="Comment"><span class="Comment">#</span> Jantar fino de cinco pratos</span>
courses <span class="Keyword">=</span> [<span class="String"><span class="String">'</span>greens<span class="String">'</span></span>, <span class="String"><span class="String">'</span>caviar<span class="String">'</span></span>, <span class="String"><span class="String">'</span>truffles<span class="String">'</span></span>, <span class="String"><span class="String">'</span>roast<span class="String">'</span></span>, <span class="String"><span class="String">'</span>cake<span class="String">'</span></span>]
menu i <span class="Keyword">+</span> <span class="Number">1</span>, dish <span class="Keyword">for</span> dish, i <span class="Keyword">in</span> courses

<span class="Comment"><span class="Comment">#</span> Refeição saudável</span>
foods <span class="Keyword">=</span> [<span class="String"><span class="String">'</span>broccoli<span class="String">'</span></span>, <span class="String"><span class="String">'</span>spinach<span class="String">'</span></span>, <span class="String"><span class="String">'</span>chocolate<span class="String">'</span></span>]
eat food <span class="Keyword">for</span> food <span class="Keyword">in</span> foods <span class="Keyword">when</span> food <span class="Keyword">isnt</span> <span class="String"><span class="String">'</span>chocolate<span class="String">'</span></span>
</pre><pre class="idle"><span class="Storage">var</span> courses, dish, food, foods, i, _i, _j, _k, _len, _len1, _len2, _ref;

_ref <span class="Keyword">=</span> [<span class="String"><span class="String">'</span>toast<span class="String">'</span></span>, <span class="String"><span class="String">'</span>cheese<span class="String">'</span></span>, <span class="String"><span class="String">'</span>wine<span class="String">'</span></span>];
<span class="Keyword">for</span> (_i <span class="Keyword">=</span> <span class="Number">0</span>, _len <span class="Keyword">=</span> _ref.<span class="LibraryConstant">length</span>; _i <span class="Keyword">&lt;</span> _len; _i<span class="Keyword">++</span>) {
  food <span class="Keyword">=</span> _ref[_i];
  eat(food);
}

courses <span class="Keyword">=</span> [<span class="String"><span class="String">'</span>greens<span class="String">'</span></span>, <span class="String"><span class="String">'</span>caviar<span class="String">'</span></span>, <span class="String"><span class="String">'</span>truffles<span class="String">'</span></span>, <span class="String"><span class="String">'</span>roast<span class="String">'</span></span>, <span class="String"><span class="String">'</span>cake<span class="String">'</span></span>];

<span class="Keyword">for</span> (i <span class="Keyword">=</span> _j <span class="Keyword">=</span> <span class="Number">0</span>, _len1 <span class="Keyword">=</span> courses.<span class="LibraryConstant">length</span>; _j <span class="Keyword">&lt;</span> _len1; i <span class="Keyword">=</span> <span class="Keyword">++</span>_j) {
  dish <span class="Keyword">=</span> courses[i];
  menu(i <span class="Keyword">+</span> <span class="Number">1</span>, dish);
}

foods <span class="Keyword">=</span> [<span class="String"><span class="String">'</span>broccoli<span class="String">'</span></span>, <span class="String"><span class="String">'</span>spinach<span class="String">'</span></span>, <span class="String"><span class="String">'</span>chocolate<span class="String">'</span></span>];

<span class="Keyword">for</span> (_k <span class="Keyword">=</span> <span class="Number">0</span>, _len2 <span class="Keyword">=</span> foods.<span class="LibraryConstant">length</span>; _k <span class="Keyword">&lt;</span> _len2; _k<span class="Keyword">++</span>) {
  food <span class="Keyword">=</span> foods[_k];
  <span class="Keyword">if</span> (food <span class="Keyword">!</span><span class="Keyword">==</span> <span class="String"><span class="String">'</span>chocolate<span class="String">'</span></span>) {
    eat(food);
  }
}
</pre><script>window.example9 = "# Coma o almoço\neat food for food in ['toast', 'cheese', 'wine']\n\n# Jantar fino de cinco pratos\ncourses = ['greens', 'caviar', 'truffles', 'roast', 'cake']\nmenu i + 1, dish for dish, i in courses\n\n# Refeição saudável\nfoods = ['broccoli', 'spinach', 'chocolate']\neat food for food in foods when food isnt 'chocolate'\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example9);'>carregar</div><br class='clear' /></div>
    <p>
      Compreensões devem ser capazes de lidar com a maioria dos casos onde você
      de outra maneira usaria um laço normal, <b>each</b>/<b>forEach</b>, <b>map</b>,
      ou <b>select</b>/<b>filter</b>, por exemplo:
      <tt>shortNames = (name for name in list when name.length &lt; 5)</tt><br />
      Se você sabe o começa e termina o laço, ou gostaria de percorrer o laço
      com incrementos de tamanho fixo, você pode usar um intervalo (<em>range</em>)
      para especificar o começo e o fim das suas <b>compreensões</b>.
    </p>
    <div class='code'><pre class="idle">countdown <span class="Keyword">=</span> (num <span class="Keyword">for</span> num <span class="Keyword">in</span> [<span class="Number">10</span>..<span class="Number">1</span>])

</pre><pre class="idle"><span class="Storage">var</span> countdown, num;

countdown <span class="Keyword">=</span> (<span class="Storage">function</span>() {
  <span class="Storage">var</span> _i, _results;
  _results <span class="Keyword">=</span> [];
  <span class="Keyword">for</span> (num <span class="Keyword">=</span> _i <span class="Keyword">=</span> <span class="Number">10</span>; _i <span class="Keyword">&gt;=</span> <span class="Number">1</span>; num <span class="Keyword">=</span> <span class="Keyword">--</span>_i) {
    _results.<span class="LibraryFunction">push</span>(num);
  }
  <span class="Keyword">return</span> _results;
})();
</pre><script>window.example10 = "countdown = (num for num in [10..1])\n\nalert countdown"</script><div class='minibutton load' onclick='javascript: loadConsole(example10);'>carregar</div><div class='minibutton ok' onclick='javascript: var countdown, num;

countdown = (function() {
  var _i, _results;
  _results = [];
  for (num = _i = 10; _i >= 1; num = --_i) {
    _results.push(num);
  }
  return _results;
})();
;alert(countdown);'>executar: countdown</div><br class='clear' /></div>
    <p>
      Peceba que, pelo fato de estarmos atribuindo o valor das compreensões de lista
      a uma variável no exemplo acima, CoffeeScript coleta o resultado de cada
      iteração em um <em>array</em>. Às vezes funções terminam com laços que
      servem apenas para rodar no contexto da própria função. Tenha cuidado para
      não retornar acidentalmente os resultados da compreensão, nestes casos
      apenas adicione um valor de retorno significativo &mdash; como <tt>true</tt>
      &mdash; ou <tt>null</tt>, ao final da sua função.
    </p>
    <p>
      Para percorrer uma compreensão de intervalo em passos de tamanho fixo,
      use <tt>by</tt>, por exemplo:<br />
      <tt>pares = (x for x in [0..10] by 2)</tt>
    </p>
    <p>
      Compreensões também podem ser usadas para iterar sobre as chaves (<em>key</em>) e valores (<em>value</em>)
      em um objeto. Use <tt>of</tt> para sinalizar a compreensão sobre as propriedades
      de um objeto, em vez dos valores em um <em>array</em>.
    </p>
    <div class='code'><pre class="idle">yearsOld <span class="Keyword">=</span> max: <span class="Number">10</span>, ida: <span class="Number">9</span>, tim: <span class="Number">11</span>

ages <span class="Keyword">=</span> <span class="Keyword">for</span> child, age <span class="Keyword">of</span> yearsOld
  <span class="String"><span class="String">&quot;</span><span class="String"><span class="String">#{</span>child<span class="String">}</span></span> is <span class="String"><span class="String">#{</span>age<span class="String">}</span></span><span class="String">&quot;</span></span>
</pre><pre class="idle"><span class="Storage">var</span> age, ages, child, yearsOld;

yearsOld <span class="Keyword">=</span> {
  max: <span class="Number">10</span>,
  ida: <span class="Number">9</span>,
  tim: <span class="Number">11</span>
};

ages <span class="Keyword">=</span> (<span class="Storage">function</span>() {
  <span class="Storage">var</span> _results;
  _results <span class="Keyword">=</span> [];
  <span class="Keyword">for</span> (child <span class="Keyword">in</span> yearsOld) {
    age <span class="Keyword">=</span> yearsOld[child];
    _results.<span class="LibraryFunction">push</span>(<span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span> <span class="Keyword">+</span> child <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span> is <span class="String">&quot;</span></span> <span class="Keyword">+</span> age);
  }
  <span class="Keyword">return</span> _results;
})();
</pre><script>window.example11 = "yearsOld = max: 10, ida: 9, tim: 11\n\nages = for child, age of yearsOld\n  \"#{child} is #{age}\"\n\nalert ages.join(\", \")"</script><div class='minibutton load' onclick='javascript: loadConsole(example11);'>carregar</div><div class='minibutton ok' onclick='javascript: var age, ages, child, yearsOld;

yearsOld = {
  max: 10,
  ida: 9,
  tim: 11
};

ages = (function() {
  var _results;
  _results = [];
  for (child in yearsOld) {
    age = yearsOld[child];
    _results.push("" + child + " is " + age);
  }
  return _results;
})();
;alert(ages.join(", "));'>executar: ages.join(", ")</div><br class='clear' /></div>
    <p>
      Se você desejasse iterar somente sobre as chaves (<em>keys</em>) que são
      definidas no próprio objeto, adicionando uma verificação <tt>hasOwnProperty</tt>
      para evitar propriedades que possam ter sido herdadas do protótipo, use<br />
      <tt>for own key, value of object</tt>
    </p>
    <p>
      O único laço de baixo nível que CoffeeScript fornece é o laço <b>while</b>. A
      principal diferença de JavaScript é que o laço <b>while</b> pode ser usado como
      uma expressão, retornando um <em>array</em> contendo o resultado de cada iteração
      atravéz do laço.
    </p>
    <div class='code'><pre class="idle"><span class="Comment"><span class="Comment">#</span> Econ 101</span>
<span class="Keyword">if</span> <span class="Variable">this</span>.studyingEconomics
  buy()  <span class="Keyword">while</span> supply <span class="Keyword">&gt;</span> demand
  sell() <span class="Keyword">until</span> supply <span class="Keyword">&gt;</span> demand

<span class="Comment"><span class="Comment">#</span> Rima de berçário</span>
num <span class="Keyword">=</span> <span class="Number">6</span>
lyrics <span class="Keyword">=</span> <span class="Keyword">while</span> num <span class="Keyword">-</span><span class="Keyword">=</span> <span class="Number">1</span>
  <span class="String"><span class="String">&quot;</span><span class="String"><span class="String">#{</span>num<span class="String">}</span></span> little monkeys, jumping on the bed.</span>
<span class="String">    One fell out and bumped his head.<span class="String">&quot;</span></span>
</pre><pre class="idle"><span class="Storage">var</span> lyrics, num;

<span class="Keyword">if</span> (<span class="Variable">this</span>.studyingEconomics) {
  <span class="Keyword">while</span> (supply <span class="Keyword">&gt;</span> demand) {
    buy();
  }
  <span class="Keyword">while</span> (<span class="Keyword">!</span>(supply <span class="Keyword">&gt;</span> demand)) {
    sell();
  }
}

num <span class="Keyword">=</span> <span class="Number">6</span>;

lyrics <span class="Keyword">=</span> (<span class="Storage">function</span>() {
  <span class="Storage">var</span> _results;
  _results <span class="Keyword">=</span> [];
  <span class="Keyword">while</span> (num <span class="Keyword">-</span><span class="Keyword">=</span> <span class="Number">1</span>) {
    _results.<span class="LibraryFunction">push</span>(<span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span> <span class="Keyword">+</span> num <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span> little monkeys, jumping on the bed.    One fell out and bumped his head.<span class="String">&quot;</span></span>);
  }
  <span class="Keyword">return</span> _results;
})();
</pre><script>window.example12 = "# Econ 101\nif this.studyingEconomics\n  buy()  while supply > demand\n  sell() until supply > demand\n\n# Rima de berçário\nnum = 6\nlyrics = while num -= 1\n  \"#{num} little monkeys, jumping on the bed.\n    One fell out and bumped his head.\"\n\nalert lyrics.join(\"\\n\")"</script><div class='minibutton load' onclick='javascript: loadConsole(example12);'>carregar</div><div class='minibutton ok' onclick='javascript: var lyrics, num;

if (this.studyingEconomics) {
  while (supply > demand) {
    buy();
  }
  while (!(supply > demand)) {
    sell();
  }
}

num = 6;

lyrics = (function() {
  var _results;
  _results = [];
  while (num -= 1) {
    _results.push("" + num + " little monkeys, jumping on the bed.    One fell out and bumped his head.");
  }
  return _results;
})();
;alert(lyrics.join("\n"));'>executar: lyrics.join("\n")</div><br class='clear' /></div>
    <p>
      Para legibilidade, a palavra-chave <b>until</b> é equivalente a <tt>while not</tt>,
      e a palavra-chave <b>loop</b> é equivalente a <tt>while true</tt>.
    </p>
    <p>
      Quando usando um laço JavaScript para gerar funções, é comum inserir um
      agrupamento (<em>wrapper</em>) a fim de garantir que as variáveis do laço estão
      corretamente fechadas, e todas as funções geradas não compartilhem apenas
      os valores finais. CoffeeScript fornece a palavra-chave <tt>do</tt>, que invoca
      imediatamente uma função passada com seus respectivos argumentos.
    </p>
    <div class='code'><pre class="idle"><span class="Keyword">for</span> filename <span class="Keyword">in</span> list
  do <span class="FunctionArgument">(filename)</span> <span class="Storage">-&gt;</span>
    fs.readFile filename, <span class="FunctionArgument">(err, contents)</span> <span class="Storage">-&gt;</span>
      compile filename, contents.toString()
</pre><pre class="idle"><span class="Storage">var</span> filename, _fn, _i, _len;

<span class="FunctionName">_fn</span> = <span class="Storage">function</span>(<span class="FunctionArgument">filename</span>) {
  <span class="Keyword">return</span> fs.readFile(filename, <span class="Storage">function</span>(err, contents) {
    <span class="Keyword">return</span> <span class="LibraryFunction">compile</span>(filename, contents.<span class="LibraryFunction">toString</span>());
  });
};
<span class="Keyword">for</span> (_i <span class="Keyword">=</span> <span class="Number">0</span>, _len <span class="Keyword">=</span> list.<span class="LibraryConstant">length</span>; _i <span class="Keyword">&lt;</span> _len; _i<span class="Keyword">++</span>) {
  filename <span class="Keyword">=</span> list[_i];
  _fn(filename);
}
</pre><script>window.example13 = "for filename in list\n  do (filename) ->\n    fs.readFile filename, (err, contents) ->\n      compile filename, contents.toString()"</script><div class='minibutton load' onclick='javascript: loadConsole(example13);'>carregar</div><br class='clear' /></div>
    <p>
      <span id="slices" class="bookmark"></span>
      <b class="header">Fatiamento e Substituição com Intervalos de Arrays</b>
      Intervalos (<em>ranges</em>) também podem ser usados para extrair fatias
      (<em>slices</em>) de <em>arrays</em>.
      Com dois pontos (<tt>3..6</tt>), o intervalo é inclusivo (<tt>3, 4, 5, 6</tt>);
      Com trêz pontos (<tt>3...6</tt>), o intervalo exclui o final (<tt>3, 4, 5</tt>).
      Índices de fatias têm padrões úteis. Se o primeiro índice for omitido, terá o
      mesmo efeito que ter sido setado com <tt>0</tt>, e se o segundo índice for omitido,
      terá o mesmo efeito que ter sido setado com o tamanho do <em>array</em>.
    </p>
    <div class='code'><pre class="idle">numbers <span class="Keyword">=</span> [<span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>]

start   <span class="Keyword">=</span> numbers[<span class="Number">0</span>..<span class="Number">2</span>]

middle  <span class="Keyword">=</span> numbers[<span class="Number">3</span>...<span class="Number">6</span>]

end     <span class="Keyword">=</span> numbers[<span class="Number">6</span>..]

copy    <span class="Keyword">=</span> numbers[..]
</pre><pre class="idle"><span class="Storage">var</span> copy, end, middle, numbers, start;

numbers <span class="Keyword">=</span> [<span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>];

start <span class="Keyword">=</span> numbers.<span class="LibraryFunction">slice</span>(<span class="Number">0</span>, <span class="Number">3</span>);

middle <span class="Keyword">=</span> numbers.<span class="LibraryFunction">slice</span>(<span class="Number">3</span>, <span class="Number">6</span>);

end <span class="Keyword">=</span> numbers.<span class="LibraryFunction">slice</span>(<span class="Number">6</span>);

copy <span class="Keyword">=</span> numbers.<span class="LibraryFunction">slice</span>(<span class="Number">0</span>);
</pre><script>window.example14 = "numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nstart   = numbers[0..2]\n\nmiddle  = numbers[3...6]\n\nend     = numbers[6..]\n\ncopy    = numbers[..]\n\nalert middle"</script><div class='minibutton load' onclick='javascript: loadConsole(example14);'>carregar</div><div class='minibutton ok' onclick='javascript: var copy, end, middle, numbers, start;

numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];

start = numbers.slice(0, 3);

middle = numbers.slice(3, 6);

end = numbers.slice(6);

copy = numbers.slice(0);
;alert(middle);'>executar: middle</div><br class='clear' /></div>
    <p>
      A mesma sintaxe pode ser usada com atribuição para substituir um segmento de
      um <em>array</em> com novos valores, "emendando-o" (<em>splice</em>).
    </p>
    <div class='code'><pre class="idle">numbers <span class="Keyword">=</span> [<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>]

numbers[<span class="Number">3</span>..<span class="Number">6</span>] <span class="Keyword">=</span> [<span class="Keyword">-</span><span class="Number">3</span>, <span class="Keyword">-</span><span class="Number">4</span>, <span class="Keyword">-</span><span class="Number">5</span>, <span class="Keyword">-</span><span class="Number">6</span>]



 
</pre><pre class="idle"><span class="Storage">var</span> numbers, _ref;

numbers <span class="Keyword">=</span> [<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>];

[].splice.<span class="LibraryFunction">apply</span>(numbers, [<span class="Number">3</span>, <span class="Number">4</span>].<span class="LibraryFunction">concat</span>(_ref <span class="Keyword">=</span> [<span class="Keyword">-</span><span class="Number">3</span>, <span class="Keyword">-</span><span class="Number">4</span>, <span class="Keyword">-</span><span class="Number">5</span>, <span class="Keyword">-</span><span class="Number">6</span>])), _ref;
</pre><script>window.example15 = "numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\nnumbers[3..6] = [-3, -4, -5, -6]\n\nalert numbers"</script><div class='minibutton load' onclick='javascript: loadConsole(example15);'>carregar</div><div class='minibutton ok' onclick='javascript: var numbers, _ref;

numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

[].splice.apply(numbers, [3, 4].concat(_ref = [-3, -4, -5, -6])), _ref;
;alert(numbers);'>executar: numbers</div><br class='clear' /></div>
    <p>
      Perceba que <em>strings</em> JavaScript são imutáveis, e não podem ser "emendadas".
    </p>
    <p>
      <span id="expressions" class="bookmark"></span>
      <b class="header">Tudo é uma Expressão (pelo menos, o tanto quanto possível)</b>
      Você deve ter notado que apesar de não termos adicionado declarações de
      retorno às funções CoffeeScript, mesmo assim elas retornam seu valor final.
      O compilador CoffeeScript tenta se assegurar que todas as declarações na
      linguagem possam ser usadas como expressões. Veja como o <tt>return</tt>
      acaba indo parar no final de cada ramo possível de execução na função abaixo.
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">grade </span><span class="Keyword">=</span> <span class="FunctionArgument">(student)</span> <span class="Storage">-&gt;</span>
  <span class="Keyword">if</span> student.excellentWork
    <span class="String"><span class="String">&quot;</span>A+<span class="String">&quot;</span></span>
  <span class="Keyword">else</span> <span class="Keyword">if</span> student.okayStuff
    <span class="Keyword">if</span> student.triedHard <span class="Keyword">then</span> <span class="String"><span class="String">&quot;</span>B<span class="String">&quot;</span></span> <span class="Keyword">else</span> <span class="String"><span class="String">&quot;</span>B-<span class="String">&quot;</span></span>
  <span class="Keyword">else</span>
    <span class="String"><span class="String">&quot;</span>C<span class="String">&quot;</span></span>

eldest <span class="Keyword">=</span> <span class="Keyword">if</span> <span class="Number">24</span> <span class="Keyword">&gt;</span> <span class="Number">21</span> <span class="Keyword">then</span> <span class="String"><span class="String">&quot;</span>Liz<span class="String">&quot;</span></span> <span class="Keyword">else</span> <span class="String"><span class="String">&quot;</span>Ike<span class="String">&quot;</span></span>
</pre><pre class="idle"><span class="Storage">var</span> eldest, grade;

<span class="FunctionName">grade</span> = <span class="Storage">function</span>(<span class="FunctionArgument">student</span>) {
  <span class="Keyword">if</span> (student.excellentWork) {
    <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>A+<span class="String">&quot;</span></span>;
  } <span class="Keyword">else</span> <span class="Keyword">if</span> (student.okayStuff) {
    <span class="Keyword">if</span> (student.triedHard) {
      <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>B<span class="String">&quot;</span></span>;
    } <span class="Keyword">else</span> {
      <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>B-<span class="String">&quot;</span></span>;
    }
  } <span class="Keyword">else</span> {
    <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>C<span class="String">&quot;</span></span>;
  }
};

eldest <span class="Keyword">=</span> <span class="Number">24</span> <span class="Keyword">&gt;</span> <span class="Number">21</span> ? <span class="String"><span class="String">&quot;</span>Liz<span class="String">&quot;</span></span> : <span class="String"><span class="String">&quot;</span>Ike<span class="String">&quot;</span></span>;
</pre><script>window.example16 = "grade = (student) ->\n  if student.excellentWork\n    \"A+\"\n  else if student.okayStuff\n    if student.triedHard then \"B\" else \"B-\"\n  else\n    \"C\"\n\neldest = if 24 > 21 then \"Liz\" else \"Ike\"\n\nalert eldest"</script><div class='minibutton load' onclick='javascript: loadConsole(example16);'>carregar</div><div class='minibutton ok' onclick='javascript: var eldest, grade;

grade = function(student) {
  if (student.excellentWork) {
    return "A+";
  } else if (student.okayStuff) {
    if (student.triedHard) {
      return "B";
    } else {
      return "B-";
    }
  } else {
    return "C";
  }
};

eldest = 24 > 21 ? "Liz" : "Ike";
;alert(eldest);'>executar: eldest</div><br class='clear' /></div>
    <p>
      Apesar de funções sempre retornarem seu valor final, é possível e encorajado
      retornar o mais depressa possível de um corpo de função escrevendo explicitamente
      <em>return</em> (<tt>return value</tt>),
      Even though functions will always return their final value, it's both possible
      and encouraged to return early from a function body writing out the explicit
      return (<tt>return value</tt>), quando você sabe que terminou.
    </p>
    <p>
      Pelo fato de declarações de variável ocorrerem no topo do escopo, atribuição
      pode ser usada dentro de expressões, até mesmo para variáveis que não foram
      vistas antes:
    </p>
    <div class='code'><pre class="idle">six <span class="Keyword">=</span> (one <span class="Keyword">=</span> <span class="Number">1</span>) <span class="Keyword">+</span> (two <span class="Keyword">=</span> <span class="Number">2</span>) <span class="Keyword">+</span> (three <span class="Keyword">=</span> <span class="Number">3</span>)


</pre><pre class="idle"><span class="Storage">var</span> one, six, three, two;

six <span class="Keyword">=</span> (one <span class="Keyword">=</span> <span class="Number">1</span>) <span class="Keyword">+</span> (two <span class="Keyword">=</span> <span class="Number">2</span>) <span class="Keyword">+</span> (three <span class="Keyword">=</span> <span class="Number">3</span>);
</pre><script>window.example17 = "six = (one = 1) + (two = 2) + (three = 3)\n\nalert six"</script><div class='minibutton load' onclick='javascript: loadConsole(example17);'>carregar</div><div class='minibutton ok' onclick='javascript: var one, six, three, two;

six = (one = 1) + (two = 2) + (three = 3);
;alert(six);'>executar: six</div><br class='clear' /></div>
    <p>
      Coisas que poderiam, de outra maneira, ser declarações em JavaScript, quando
      usadas como uma parte de uma expressão em CoffeeScript, são convertidas em
      expressões agrupando-as em um bloco. Isto permite a você fazer coisas úteis,
      como atribuir o resultado de uma compreensão de lista a uma variável:
    </p>
    <div class='code'><pre class="idle"><span class="Comment"><span class="Comment">#</span> The first ten global properties.</span>

globals <span class="Keyword">=</span> (name <span class="Keyword">for</span> name <span class="Keyword">of</span> window)[<span class="Number">0</span>...<span class="Number">10</span>]
</pre><pre class="idle"><span class="Storage">var</span> globals, name;

globals <span class="Keyword">=</span> ((<span class="Storage">function</span>() {
  <span class="Storage">var</span> _results;
  _results <span class="Keyword">=</span> [];
  <span class="Keyword">for</span> (name <span class="Keyword">in</span> <span class="LibraryClassType">window</span>) {
    _results.<span class="LibraryFunction">push</span>(name);
  }
  <span class="Keyword">return</span> _results;
})()).<span class="LibraryFunction">slice</span>(<span class="Number">0</span>, <span class="Number">10</span>);
</pre><script>window.example18 = "# The first ten global properties.\n\nglobals = (name for name of window)[0...10]\n\nalert globals"</script><div class='minibutton load' onclick='javascript: loadConsole(example18);'>carregar</div><div class='minibutton ok' onclick='javascript: var globals, name;

globals = ((function() {
  var _results;
  _results = [];
  for (name in window) {
    _results.push(name);
  }
  return _results;
})()).slice(0, 10);
;alert(globals);'>executar: globals</div><br class='clear' /></div>
    <p>
      Bem como coisas bobas, como passar uma declaração <b>try/catch</b> diretamente
      em uma chamada de função:
    </p>
    <div class='code'><pre class="idle">alert(
  <span class="Keyword">try</span>
    nonexistent <span class="Keyword">/</span> <span class="BuiltInConstant">undefined</span>
  <span class="Keyword">catch</span> error
    <span class="String"><span class="String">&quot;</span>And the error is ... <span class="String"><span class="String">#{</span>error<span class="String">}</span></span><span class="String">&quot;</span></span>
)

</pre><pre class="idle">
<span class="LibraryFunction">alert</span>((<span class="Storage">function</span>() {
  <span class="Keyword">try</span> {
    <span class="Keyword">return</span> nonexistent / <span class="Storage">void</span> <span class="Number">0</span>;
  } <span class="Keyword">catch</span> (error) {
    <span class="Keyword">return</span> <span class="String"><span class="String">&quot;</span>And the error is ... <span class="String">&quot;</span></span> <span class="Keyword">+</span> error;
  }
})());
</pre><script>window.example19 = "alert(\n  try\n    nonexistent / undefined\n  catch error\n    \"And the error is ... #{error}\"\n)\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example19);'>carregar</div><div class='minibutton ok' onclick='javascript: 
alert((function() {
  try {
    return nonexistent / void 0;
  } catch (error) {
    return "And the error is ... " + error;
  }
})());
;'>executar</div><br class='clear' /></div>
    <p>
      Há um punhado de instruções em JavaScript que não podem ser verdadeiramente
      convertidas em expressões, como <tt>break</tt>, <tt>continue</tt>,
      e <tt>return</tt>. Se você faz uso delas dentro de um bloco de código,
      CoffeeScript não tentará realizar a conversão.
    </p>

    <p>
      <span id="operators" class="bookmark"></span>
      <b class="header">Operadores e Aliases</b>
      Pelo fato de o operador <tt>==</tt> frequentemente causar coerção indesejável,
      é intransitivo, e tem um significado diferente do que em outras linguagens,
      CoffeeScript compila <tt>==</tt> para <tt>===</tt>, e <tt>!=</tt> para
      <tt>!==</tt>.
      Além disso, <tt>is</tt> compila para <tt>===</tt>, e <tt>isnt</tt> para
      <tt>!==</tt>.
    </p>
    <p>
      Você pode usar <tt>not</tt> como um apelido (<em>alias</em>) para <tt>!</tt>.
    </p>
    <p>
      Por lógica, <tt>and</tt> compila para <tt>&amp;&amp;</tt>, e <tt>or</tt>
      para <tt>||</tt>.
    </p>
    <p>
      Em vez de uma nova linha ou ponto-e-vígula, <tt>then</tt> pode ser usado
      para separar condições de expressões, em instuções <b>while</b>,
      <b>if</b>/<b>else</b>, e <b>switch</b>/<b>when</b>.
    </p>
    <p>
      Como em <a href="http://yaml.org/">YAML</a>, <tt>on</tt> e <tt>yes</tt>
      são o mesmo booleano <tt>true</tt>, enquanto <tt>off</tt> e <tt>no</tt> são o
      booleano <tt>false</tt>.
    </p>
    <p>
      <tt>unless</tt> pode ser usado como o inverso de <tt>if</tt>.
    </p>
    <p>
      Como um atalho para <tt>this.propriedade</tt>, você pode usar <tt>@propriedade</tt>.
    </p>
    <p>
      Você pode usar <tt>in</tt> para testar a presença em <em>array</em>, e <tt>of</tt>
      para testar a presença de chave (<em>key</em>) de objeto JavaScript.
    </p>

    <p>
      Tudo junto agora:
    </p>

    <table class="definitions">
      <tr><th>CoffeeScript</th><th>JavaScript</th></tr>
      <tr><td><tt>is</tt></td><td><tt>===</tt></td></tr>
      <tr><td><tt>isnt</tt></td><td><tt>!==</tt></td></tr>
      <tr><td><tt>not</tt></td><td><tt>!</tt></td></tr>
      <tr><td><tt>and</tt></td><td><tt>&amp;&amp;</tt></td></tr>
      <tr><td><tt>or</tt></td><td><tt>||</tt></td></tr>
      <tr><td><tt>true, yes, on</tt></td><td><tt>true</tt></td></tr>
      <tr><td><tt>false, no, off</tt></td><td><tt>false</tt></td></tr>
      <tr><td><tt>@, this</tt></td><td><tt>this</tt></td></tr>
      <tr><td><tt>of</tt></td><td><tt>in</tt></td></tr>
      <tr><td><tt>in</tt></td><td><i><small>sem equivalente JS</small></i></td></tr>
    </table>

    <div class='code'><pre class="idle">launch() <span class="Keyword">if</span> ignition <span class="Keyword">is</span> <span class="BuiltInConstant">on</span>

volume <span class="Keyword">=</span> <span class="Number">10</span> <span class="Keyword">if</span> band <span class="Keyword">isnt</span> SpinalTap

letTheWildRumpusBegin() <span class="Keyword">unless</span> answer <span class="Keyword">is</span> <span class="BuiltInConstant">no</span>

<span class="Keyword">if</span> car.speed <span class="Keyword">&lt;</span> limit <span class="Keyword">then</span> accelerate()

winner <span class="Keyword">=</span> <span class="BuiltInConstant">yes</span> <span class="Keyword">if</span> pick <span class="Keyword">in</span> [<span class="Number">47</span>, <span class="Number">92</span>, <span class="Number">13</span>]

print inspect <span class="String"><span class="String">&quot;</span>My name is <span class="String"><span class="String">#{</span><span class="Variable">@name</span><span class="String">}</span></span><span class="String">&quot;</span></span>
</pre><pre class="idle"><span class="Storage">var</span> volume, winner;

<span class="Keyword">if</span> (ignition <span class="Keyword">===</span> <span class="BuiltInConstant">true</span>) {
  launch();
}

<span class="Keyword">if</span> (band <span class="Keyword">!</span><span class="Keyword">==</span> SpinalTap) {
  volume <span class="Keyword">=</span> <span class="Number">10</span>;
}

<span class="Keyword">if</span> (answer <span class="Keyword">!</span><span class="Keyword">==</span> <span class="BuiltInConstant">false</span>) {
  letTheWildRumpusBegin();
}

<span class="Keyword">if</span> (car.speed <span class="Keyword">&lt;</span> limit) {
  accelerate();
}

<span class="Keyword">if</span> (pick <span class="Keyword">===</span> <span class="Number">47</span> <span class="Keyword">||</span> pick <span class="Keyword">===</span> <span class="Number">92</span> <span class="Keyword">||</span> pick <span class="Keyword">===</span> <span class="Number">13</span>) {
  winner <span class="Keyword">=</span> <span class="BuiltInConstant">true</span>;
}

<span class="LibraryFunction">print</span>(inspect(<span class="String"><span class="String">&quot;</span>My name is <span class="String">&quot;</span></span> <span class="Keyword">+</span> <span class="Variable">this</span>.<span class="LibraryConstant">name</span>));
</pre><script>window.example20 = "launch() if ignition is on\n\nvolume = 10 if band isnt SpinalTap\n\nletTheWildRumpusBegin() unless answer is no\n\nif car.speed < limit then accelerate()\n\nwinner = yes if pick in [47, 92, 13]\n\nprint inspect \"My name is #{@name}\"\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example20);'>carregar</div><br class='clear' /></div>

    <p>
      <b class="header">O Operador Existencial</b>
      É um pouco difícil de verificar a existência de uma variável em
      JavaScript. <tt>if (variavel) ...</tt> chega perto, mais falha para
      zero (<tt>0</tt>), <em>string</em> vazia (<tt>""</tt>) e falso (<tt>false</tt>).
      O operador existencial de CoffeeScript <tt>?</tt> retorna verdadeiro a menos
      que a variável seja <b>null</b> ou <b>undefined</b>, o que a faz análoga
      ao <tt>nil?</tt> de Ruby.
    </p>
    <p>
      Ele também pode ser usado para atribuição condicional com mais segurança que
      <tt>||=</tt> fornece, para casos onde você tenha que lidar com números ou <em>strings</em>.
    </p>
    <div class='code'><pre class="idle">solipsism <span class="Keyword">=</span> <span class="BuiltInConstant">true</span> <span class="Keyword">if</span> mind<span class="Keyword">?</span> <span class="Keyword">and</span> <span class="Keyword">not</span> world<span class="Keyword">?</span>

speed <span class="Keyword">=</span> <span class="Number">0</span>
speed <span class="Keyword">?</span><span class="Keyword">=</span> <span class="Number">15</span>

footprints <span class="Keyword">=</span> yeti <span class="Keyword">?</span> <span class="String"><span class="String">&quot;</span>bear<span class="String">&quot;</span></span>






 
</pre><pre class="idle"><span class="Storage">var</span> footprints, solipsism, speed;

<span class="Keyword">if</span> ((<span class="Keyword">typeof</span> mind <span class="Keyword">!</span><span class="Keyword">==</span> <span class="String"><span class="String">&quot;</span>undefined<span class="String">&quot;</span></span> <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> mind <span class="Keyword">!</span><span class="Keyword">==</span> <span class="BuiltInConstant">null</span>) <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> <span class="Keyword">!</span>(<span class="Keyword">typeof</span> world <span class="Keyword">!</span><span class="Keyword">==</span> <span class="String"><span class="String">&quot;</span>undefined<span class="String">&quot;</span></span> <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> world <span class="Keyword">!</span><span class="Keyword">==</span> <span class="BuiltInConstant">null</span>)) {
  solipsism <span class="Keyword">=</span> <span class="BuiltInConstant">true</span>;
}

speed <span class="Keyword">=</span> <span class="Number">0</span>;

<span class="Keyword">if</span> (speed <span class="Keyword">==</span> <span class="BuiltInConstant">null</span>) {
  speed <span class="Keyword">=</span> <span class="Number">15</span>;
}

footprints <span class="Keyword">=</span> <span class="Keyword">typeof</span> yeti <span class="Keyword">!</span><span class="Keyword">==</span> <span class="String"><span class="String">&quot;</span>undefined<span class="String">&quot;</span></span> <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> yeti <span class="Keyword">!</span><span class="Keyword">==</span> <span class="BuiltInConstant">null</span> ? yeti : <span class="String"><span class="String">&quot;</span>bear<span class="String">&quot;</span></span>;
</pre><script>window.example21 = "solipsism = true if mind? and not world?\n\nspeed = 0\nspeed ?= 15\n\nfootprints = yeti ? \"bear\"\n\nalert footprints"</script><div class='minibutton load' onclick='javascript: loadConsole(example21);'>carregar</div><div class='minibutton ok' onclick='javascript: var footprints, solipsism, speed;

if ((typeof mind !== "undefined" && mind !== null) && !(typeof world !== "undefined" && world !== null)) {
  solipsism = true;
}

speed = 0;

if (speed == null) {
  speed = 15;
}

footprints = typeof yeti !== "undefined" && yeti !== null ? yeti : "bear";
;alert(footprints);'>executar: footprints</div><br class='clear' /></div>
    <p>
      A variante do operador existencial <tt>?.</tt> pode ser usada para absorver
      referências nulas em uma cadeia de propriedades. Use-o no lugar do operador
      <tt>.</tt> nos casos onde o valor base pode ser <b>null</b> ou <b>undefined</b>.
      Se todas a propriedades existem então você terá o resultado esperado, se a cadeia
      estiver quebrada, <b>undefined</b> é retornado em vez de <b>TypeError</b> que seria
      o normal.
    </p>
    <div class='code'><pre class="idle">zip <span class="Keyword">=</span> lottery.drawWinner<span class="Keyword">?</span>().address<span class="Keyword">?</span>.zipcode
</pre><pre class="idle"><span class="Storage">var</span> zip, _ref;

zip <span class="Keyword">=</span> <span class="Keyword">typeof</span> lottery.drawWinner <span class="Keyword">===</span> <span class="String"><span class="String">&quot;</span>function<span class="String">&quot;</span></span> ? (_ref <span class="Keyword">=</span> lottery.drawWinner().address) <span class="Keyword">!</span><span class="Keyword">=</span> <span class="BuiltInConstant">null</span> ? _ref.zipcode : <span class="Storage">void</span> <span class="Number">0</span> : <span class="Storage">void</span> <span class="Number">0</span>;
</pre><script>window.example22 = "zip = lottery.drawWinner?().address?.zipcode\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example22);'>carregar</div><br class='clear' /></div>
    <p>
      Absorver valores nulos (<em>null</em>) é similar ao
      <a href="http://andand.rubyforge.org/">andand gem</a> de Ruby, e ao
      <a href="http://groovy.codehaus.org/Operators#Operators-SafeNavigationOperator%28%3F.%29">safe navigation operator</a>
      em Groovy.
    </p>

    <p>
      <span id="classes" class="bookmark"></span>
      <b class="header">Classes, Herança, and Superclasses</b>
      A herança prototipada de JavaScript sempre foi um pouco confusa, com toda
      uma árvore genealógica de bibliotecas que fornecem uma sintaxe mais clara
      para herança clássica no topo dos protótipos JavaScript:
      <a href="http://code.google.com/p/base2/">Base2</a>,
      <a href="http://prototypejs.org/">Prototype.js</a>,
      <a href="http://jsclass.jcoglan.com/">JS.Class</a>, etc.

      As bibliotecas oferecem um "açúcar sintático" (), e a herança padrão seria
      completamente utilizável se não fosse por umas pequenas exceções:
      é estranho chamar a <b>superclasse</b> (a implementação do protótipo do objeto da
      função atual), e é estranho utilizar a cadeia de protótipo corretamente.
    </p>
    <p>
      Em vez de anexar funções a um protótipo repetidamente, CoffeeScript fornece
      uma estrutura básica <tt>class</tt> que permite a você nomear sua classe,
      setar a superclasse, atribuir propriedades de protótipo, e definir o
      construtor em uma única expressão atribuível.
    </p>
    <p>
      Funções construtoras são nomeadas, para melhor apoiar os rastreamentos úteis
      de pilha. Na primeira classe no exemplo abaixo, <tt>this.constructor.name</tt> is "Animal".
    </p>
    <div class='code'><pre class="idle"><span class="Storage">class</span> <span class="TypeName">Animal</span>
  <span class="FunctionName">constructor</span><span class="Keyword">:</span> <span class="FunctionArgument">(@name)</span> <span class="Storage">-&gt;</span>

  <span class="FunctionName">move</span><span class="Keyword">:</span> <span class="FunctionArgument">(meters)</span> <span class="Storage">-&gt;</span>
    alert <span class="Variable">@name</span> <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span> moved <span class="String"><span class="String">#{</span>meters<span class="String">}</span></span>m.<span class="String">&quot;</span></span>

<span class="Storage">class</span> <span class="TypeName">Snake</span><span class="InheritedClass"> <span class="Keyword">extends</span> Animal</span>
  <span class="FunctionName">move</span><span class="Keyword">:</span> <span class="Keyword">-</span><span class="Keyword">&gt;</span>
    alert <span class="String"><span class="String">&quot;</span>Slithering...<span class="String">&quot;</span></span>
    <span class="Variable">super</span> <span class="Number">5</span>

<span class="Storage">class</span> <span class="TypeName">Horse</span><span class="InheritedClass"> <span class="Keyword">extends</span> Animal</span>
  <span class="FunctionName">move</span><span class="Keyword">:</span> <span class="Keyword">-</span><span class="Keyword">&gt;</span>
    alert <span class="String"><span class="String">&quot;</span>Galloping...<span class="String">&quot;</span></span>
    <span class="Variable">super</span> <span class="Number">45</span>

sam <span class="Keyword">=</span> <span class="Keyword">new</span> <span class="TypeName">Snake</span> <span class="String"><span class="String">&quot;</span>Sammy the Python<span class="String">&quot;</span></span>
tom <span class="Keyword">=</span> <span class="Keyword">new</span> <span class="TypeName">Horse</span> <span class="String"><span class="String">&quot;</span>Tommy the Palomino<span class="String">&quot;</span></span>

sam.move()
tom.move()




</pre><pre class="idle"><span class="Storage">var</span> Animal, Horse, Snake, sam, tom,
  __hasProp <span class="Keyword">=</span> {}.hasOwnProperty,
  <span class="FunctionName">__extends</span> = <span class="Storage">function</span>(<span class="FunctionArgument">child, parent</span>) { <span class="Keyword">for</span> (<span class="Storage">var</span> key <span class="Keyword">in</span> parent) { <span class="Keyword">if</span> (__hasProp.<span class="LibraryFunction">call</span>(parent, key)) child[key] <span class="Keyword">=</span> parent[key]; } <span class="Storage">function</span> <span class="FunctionName">ctor</span>() { <span class="Variable">this</span>.<span class="LibraryConstant">constructor</span> <span class="Keyword">=</span> child; } <span class="LibraryClassType">ctor</span>.<span class="LibraryConstant">prototype</span> = parent.<span class="LibraryConstant">prototype</span>; <span class="LibraryClassType">child</span>.<span class="LibraryConstant">prototype</span> = <span class="Keyword">new</span> <span class="TypeName">ctor</span>(); child.__super__ <span class="Keyword">=</span> parent.<span class="LibraryConstant">prototype</span>; <span class="Keyword">return</span> child; };

Animal <span class="Keyword">=</span> (<span class="Storage">function</span>() {

  <span class="Storage">function</span> <span class="FunctionName">Animal</span>(<span class="FunctionArgument">name</span>) {
    <span class="Variable">this</span>.<span class="LibraryConstant">name</span> <span class="Keyword">=</span> name;
  }

  <span class="LibraryClassType">Animal</span>.<span class="LibraryConstant">prototype</span>.<span class="FunctionName">move</span> = <span class="Storage">function</span>(<span class="FunctionArgument">meters</span>) {
    <span class="Keyword">return</span> <span class="LibraryFunction">alert</span>(<span class="Variable">this</span>.<span class="LibraryConstant">name</span> <span class="Keyword">+</span> (<span class="String"><span class="String">&quot;</span> moved <span class="String">&quot;</span></span> <span class="Keyword">+</span> meters <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span>m.<span class="String">&quot;</span></span>));
  };

  <span class="Keyword">return</span> Animal;

})();

Snake <span class="Keyword">=</span> (<span class="Storage">function</span>(_super) {

  __extends(Snake, _super);

  <span class="Storage">function</span> <span class="FunctionName">Snake</span>() {
    <span class="Keyword">return</span> Snake.__super__.<span class="LibraryConstant">constructor</span>.<span class="LibraryFunction">apply</span>(<span class="Variable">this</span>, arguments);
  }

  <span class="LibraryClassType">Snake</span>.<span class="LibraryConstant">prototype</span>.<span class="FunctionName">move</span> = <span class="Storage">function</span>() {
    <span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>Slithering...<span class="String">&quot;</span></span>);
    <span class="Keyword">return</span> Snake.__super__.move.<span class="LibraryFunction">call</span>(<span class="Variable">this</span>, <span class="Number">5</span>);
  };

  <span class="Keyword">return</span> Snake;

})(Animal);

Horse <span class="Keyword">=</span> (<span class="Storage">function</span>(_super) {

  __extends(Horse, _super);

  <span class="Storage">function</span> <span class="FunctionName">Horse</span>() {
    <span class="Keyword">return</span> Horse.__super__.<span class="LibraryConstant">constructor</span>.<span class="LibraryFunction">apply</span>(<span class="Variable">this</span>, arguments);
  }

  <span class="LibraryClassType">Horse</span>.<span class="LibraryConstant">prototype</span>.<span class="FunctionName">move</span> = <span class="Storage">function</span>() {
    <span class="LibraryFunction">alert</span>(<span class="String"><span class="String">&quot;</span>Galloping...<span class="String">&quot;</span></span>);
    <span class="Keyword">return</span> Horse.__super__.move.<span class="LibraryFunction">call</span>(<span class="Variable">this</span>, <span class="Number">45</span>);
  };

  <span class="Keyword">return</span> Horse;

})(Animal);

sam <span class="Keyword">=</span> <span class="Keyword">new</span> <span class="TypeName">Snake</span>(<span class="String"><span class="String">&quot;</span>Sammy the Python<span class="String">&quot;</span></span>);

tom <span class="Keyword">=</span> <span class="Keyword">new</span> <span class="TypeName">Horse</span>(<span class="String"><span class="String">&quot;</span>Tommy the Palomino<span class="String">&quot;</span></span>);

sam.move();

tom.move();
</pre><script>window.example23 = "class Animal\n  constructor: (@name) ->\n\n  move: (meters) ->\n    alert @name + \" moved #{meters}m.\"\n\nclass Snake extends Animal\n  move: ->\n    alert \"Slithering...\"\n    super 5\n\nclass Horse extends Animal\n  move: ->\n    alert \"Galloping...\"\n    super 45\n\nsam = new Snake \"Sammy the Python\"\ntom = new Horse \"Tommy the Palomino\"\n\nsam.move()\ntom.move()\n\n\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example23);'>carregar</div><div class='minibutton ok' onclick='javascript: var Animal, Horse, Snake, sam, tom,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Animal = (function() {

  function Animal(name) {
    this.name = name;
  }

  Animal.prototype.move = function(meters) {
    return alert(this.name + (" moved " + meters + "m."));
  };

  return Animal;

})();

Snake = (function(_super) {

  __extends(Snake, _super);

  function Snake() {
    return Snake.__super__.constructor.apply(this, arguments);
  }

  Snake.prototype.move = function() {
    alert("Slithering...");
    return Snake.__super__.move.call(this, 5);
  };

  return Snake;

})(Animal);

Horse = (function(_super) {

  __extends(Horse, _super);

  function Horse() {
    return Horse.__super__.constructor.apply(this, arguments);
  }

  Horse.prototype.move = function() {
    alert("Galloping...");
    return Horse.__super__.move.call(this, 45);
  };

  return Horse;

})(Animal);

sam = new Snake("Sammy the Python");

tom = new Horse("Tommy the Palomino");

sam.move();

tom.move();
;'>executar</div><br class='clear' /></div>
    <p>
      Se estruturar seus protótipos da maneira clássica não é sua praia, CoffeeScript
      fornece umas conveniências de baixo nível. O operador <tt>extends</tt> ajuda
      com a configuração de protótipo adequada, e pode ser usado para criar uma cadeia
      de herança entre qualquer par de funções construtoras; <tt>::</tt> lhe dá
      acesso rápido a uma propriedade de objeto; e <tt>super()</tt> é convertido em
      uma chamada direta ao método com o mesmo nome do seu ancestral (superclasse).
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">String::dasherize </span><span class="Keyword">=</span> <span class="Keyword">-</span><span class="Keyword">&gt;</span>
  <span class="Variable">this</span>.replace <span class="String">/_/g</span>, <span class="String"><span class="String">&quot;</span>-<span class="String">&quot;</span></span>

</pre><pre class="idle">
<span class="LibraryClassType">String</span>.<span class="LibraryConstant">prototype</span>.<span class="FunctionName">dasherize</span> = <span class="Storage">function</span>() {
  <span class="Keyword">return</span> <span class="Variable">this</span>.<span class="LibraryFunction">replace</span>(<span class="String"><span class="String">/</span>_<span class="String">/</span>g</span>, <span class="String"><span class="String">&quot;</span>-<span class="String">&quot;</span></span>);
};
</pre><script>window.example24 = "String::dasherize = ->\n  this.replace /_/g, \"-\"\n\nalert \"one_two\".dasherize()"</script><div class='minibutton load' onclick='javascript: loadConsole(example24);'>carregar</div><div class='minibutton ok' onclick='javascript: 
String.prototype.dasherize = function() {
  return this.replace(/_/g, "-");
};
;alert("one_two".dasherize());'>executar: "one_two".dasherize()</div><br class='clear' /></div>
    <p>
      Finalmente, definições de classe são blocos de código executável, o que faz com
      que as possibilidades de metaprogramação se tornem interessantes. Por causa do
      contexto de uma definição de classe, <tt>this</tt> é o próprio objeto de classe
      (a função construtora), você pode atribuir propriedades estáticas usando <br />
      <tt>@property: value</tt>, e chamar funções definidas em classes pai:
      <tt>@attr 'title', type: 'text'</tt>.
    </p>

    <p>
      <span id="destructuring" class="bookmark"></span>
      <b class="header">Atribuição de Troca</b>
      Para fazer com que a extração de valores de <em>arrays</em> e objetos complexos
      mais conveniente, CoffeeScript implementa a sintaxe
      <a href="http://wiki.ecmascript.org/doku.php?id=harmony:destructuring">destructuring assignment</a>
      proposta pelo ECMAScript Harmony. Quando você atribui um <em>array</em> ou objeto
      para um valor, CoffeeScript se fragmenta e combina os dois lados, atribuindo
      os valores da direita às variáveis da esquerda. De maneira mais simples, pode
      ser usado para atribuição paralela:
    </p>
    <div class='code'><pre class="idle">theBait   <span class="Keyword">=</span> <span class="Number">1000</span>
theSwitch <span class="Keyword">=</span> <span class="Number">0</span>

<span class="Keyword">[</span>theBait, theSwitch<span class="Keyword">] =</span> [theSwitch, theBait]




 
</pre><pre class="idle"><span class="Storage">var</span> theBait, theSwitch, _ref;

theBait <span class="Keyword">=</span> <span class="Number">1000</span>;

theSwitch <span class="Keyword">=</span> <span class="Number">0</span>;

_ref <span class="Keyword">=</span> [theSwitch, theBait], theBait <span class="Keyword">=</span> _ref[<span class="Number">0</span>], theSwitch <span class="Keyword">=</span> _ref[<span class="Number">1</span>];
</pre><script>window.example25 = "theBait   = 1000\ntheSwitch = 0\n\n[theBait, theSwitch] = [theSwitch, theBait]\n\nalert theBait"</script><div class='minibutton load' onclick='javascript: loadConsole(example25);'>carregar</div><div class='minibutton ok' onclick='javascript: var theBait, theSwitch, _ref;

theBait = 1000;

theSwitch = 0;

_ref = [theSwitch, theBait], theBait = _ref[0], theSwitch = _ref[1];
;alert(theBait);'>executar: theBait</div><br class='clear' /></div>
    <p>
      Mas também é bastante útil para lidar com funções que retornam multiplos valores.
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">weatherReport </span><span class="Keyword">=</span> <span class="FunctionArgument">(location)</span> <span class="Storage">-&gt;</span>
  <span class="Comment"><span class="Comment">#</span> Make an Ajax request to fetch the weather...</span>
  [location, <span class="Number">72</span>, <span class="String"><span class="String">&quot;</span>Mostly Sunny<span class="String">&quot;</span></span>]

<span class="Keyword">[</span>city, temp, forecast<span class="Keyword">] =</span> weatherReport <span class="String"><span class="String">&quot;</span>Berkeley, CA<span class="String">&quot;</span></span>




</pre><pre class="idle"><span class="Storage">var</span> city, forecast, temp, weatherReport, _ref;

<span class="FunctionName">weatherReport</span> = <span class="Storage">function</span>(<span class="FunctionArgument">location</span>) {
  <span class="Keyword">return</span> [location, <span class="Number">72</span>, <span class="String"><span class="String">&quot;</span>Mostly Sunny<span class="String">&quot;</span></span>];
};

_ref <span class="Keyword">=</span> weatherReport(<span class="String"><span class="String">&quot;</span>Berkeley, CA<span class="String">&quot;</span></span>), city <span class="Keyword">=</span> _ref[<span class="Number">0</span>], temp <span class="Keyword">=</span> _ref[<span class="Number">1</span>], forecast <span class="Keyword">=</span> _ref[<span class="Number">2</span>];
</pre><script>window.example26 = "weatherReport = (location) ->\n  # Make an Ajax request to fetch the weather...\n  [location, 72, \"Mostly Sunny\"]\n\n[city, temp, forecast] = weatherReport \"Berkeley, CA\"\n\nalert forecast"</script><div class='minibutton load' onclick='javascript: loadConsole(example26);'>carregar</div><div class='minibutton ok' onclick='javascript: var city, forecast, temp, weatherReport, _ref;

weatherReport = function(location) {
  return [location, 72, "Mostly Sunny"];
};

_ref = weatherReport("Berkeley, CA"), city = _ref[0], temp = _ref[1], forecast = _ref[2];
;alert(forecast);'>executar: forecast</div><br class='clear' /></div>
    <p>
      Atribuição de troca (<em>Destructuring assignment</em>) pode ser usada com qualquer
      profundidade de <em>array</em> ou aninhamento de objeto, para ajudar a extrair
      propriedades profundamente aninhadas.
    </p>
    <div class='code'><pre class="idle">futurists <span class="Keyword">=</span>
  sculptor: <span class="String"><span class="String">&quot;</span>Umberto Boccioni<span class="String">&quot;</span></span>
  painter:  <span class="String"><span class="String">&quot;</span>Vladimir Burliuk<span class="String">&quot;</span></span>
  poet:
    name:   <span class="String"><span class="String">&quot;</span>F.T. Marinetti<span class="String">&quot;</span></span>
    address: [
      <span class="String"><span class="String">&quot;</span>Via Roma 42R<span class="String">&quot;</span></span>
      <span class="String"><span class="String">&quot;</span>Bellagio, Italy 22021<span class="String">&quot;</span></span>
    ]

<span class="Keyword">{</span>poet: {name, address: [street, city]}<span class="Keyword">} =</span> futurists



</pre><pre class="idle"><span class="Storage">var</span> city, futurists, name, street, _ref, _ref1;

futurists <span class="Keyword">=</span> {
  sculptor: <span class="String"><span class="String">&quot;</span>Umberto Boccioni<span class="String">&quot;</span></span>,
  painter: <span class="String"><span class="String">&quot;</span>Vladimir Burliuk<span class="String">&quot;</span></span>,
  poet: {
    name: <span class="String"><span class="String">&quot;</span>F.T. Marinetti<span class="String">&quot;</span></span>,
    address: [<span class="String"><span class="String">&quot;</span>Via Roma 42R<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Bellagio, Italy 22021<span class="String">&quot;</span></span>]
  }
};

_ref <span class="Keyword">=</span> futurists.poet, name <span class="Keyword">=</span> _ref.<span class="LibraryConstant">name</span>, (_ref1 <span class="Keyword">=</span> _ref.address, street <span class="Keyword">=</span> _ref1[<span class="Number">0</span>], city <span class="Keyword">=</span> _ref1[<span class="Number">1</span>]);
</pre><script>window.example27 = "futurists =\n  sculptor: \"Umberto Boccioni\"\n  painter:  \"Vladimir Burliuk\"\n  poet:\n    name:   \"F.T. Marinetti\"\n    address: [\n      \"Via Roma 42R\"\n      \"Bellagio, Italy 22021\"\n    ]\n\n{poet: {name, address: [street, city]}} = futurists\n\nalert name + \" - \" + street"</script><div class='minibutton load' onclick='javascript: loadConsole(example27);'>carregar</div><div class='minibutton ok' onclick='javascript: var city, futurists, name, street, _ref, _ref1;

futurists = {
  sculptor: "Umberto Boccioni",
  painter: "Vladimir Burliuk",
  poet: {
    name: "F.T. Marinetti",
    address: ["Via Roma 42R", "Bellagio, Italy 22021"]
  }
};

_ref = futurists.poet, name = _ref.name, (_ref1 = _ref.address, street = _ref1[0], city = _ref1[1]);
;alert(name + " - " + street);'>executar: name + " - " + street</div><br class='clear' /></div>
    <p>
      Atribuição de troca pode até ser combinada com <em>splats</em>.
    </p>
    <div class='code'><pre class="idle">tag <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>&lt;impossible&gt;<span class="String">&quot;</span></span>

<span class="Keyword">[</span>open, contents..., close<span class="Keyword">] =</span> tag.split(<span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span>)






</pre><pre class="idle"><span class="Storage">var</span> close, contents, open, tag, _i, _ref,
  __slice <span class="Keyword">=</span> [].slice;

tag <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>&lt;impossible&gt;<span class="String">&quot;</span></span>;

_ref <span class="Keyword">=</span> tag.<span class="LibraryFunction">split</span>(<span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span>), open <span class="Keyword">=</span> _ref[<span class="Number">0</span>], contents <span class="Keyword">=</span> <span class="Number">3</span> <span class="Keyword">&lt;=</span> _ref.<span class="LibraryConstant">length</span> ? __slice.<span class="LibraryFunction">call</span>(_ref, <span class="Number">1</span>, _i <span class="Keyword">=</span> _ref.<span class="LibraryConstant">length</span> <span class="Keyword">-</span> <span class="Number">1</span>) : (_i <span class="Keyword">=</span> <span class="Number">1</span>, []), close <span class="Keyword">=</span> _ref[_i<span class="Keyword">++</span>];
</pre><script>window.example28 = "tag = \"<impossible>\"\n\n[open, contents..., close] = tag.split(\"\")\n\nalert contents.join(\"\")"</script><div class='minibutton load' onclick='javascript: loadConsole(example28);'>carregar</div><div class='minibutton ok' onclick='javascript: var close, contents, open, tag, _i, _ref,
  __slice = [].slice;

tag = "<impossible>";

_ref = tag.split(""), open = _ref[0], contents = 3 <= _ref.length ? __slice.call(_ref, 1, _i = _ref.length - 1) : (_i = 1, []), close = _ref[_i++];
;alert(contents.join(""));'>executar: contents.join("")</div><br class='clear' /></div>

    <p>
      <span id="fat_arrow" class="bookmark"></span>
      <b class="header">Vinculação de Funções</b>
      Em JavaScript, a palavra-chave <tt>this</tt> é dinamicamente "escopada" para
      que o objeto seja referente a função da qual ele está vinculado. Se você passar
      uma função como um <em>callback</em> ou vinculá-la a um objeto diferente, o
      valor original de <tt>this</tt> será perdido. Se você não está familiarizado
      com este comportamento,
      <a href="http://www.digital-web.com/articles/scope_in_javascript/">este artigo</a>
      fornece uma boa visão dessas peculiaridades.
    </p>
    <p>
      A seta dupla <tt>=&gt;</tt> pode ser usada tanto para definir uma função quanto
      para vinculá-la ao valor atual de <tt>this</tt> no lugar certo. Isto é útil
      quando usando bibliotecas baseadas em <em>callbacks</em> como Prototype ou jQuery,
      para criar funções iteradores para passar para <tt>each</tt>, ou para funções
      manipuladoras de eventos usarem com <tt>bind</tt>. Funções criadas com a seta
      dupla são capazes de acessar propriedades do <tt>this</tt> onde elas são definidas.
    </p>
    <div class='code'><pre class="idle"><span class="FunctionName">Account </span><span class="Keyword">=</span> <span class="FunctionArgument">(customer, cart)</span> <span class="Storage">-&gt;</span>
  <span class="Variable">@customer</span> <span class="Keyword">=</span> customer
  <span class="Variable">@cart</span> <span class="Keyword">=</span> cart

  $(<span class="String"><span class="String">'</span>.shopping_cart<span class="String">'</span></span>).bind <span class="String"><span class="String">'</span>click<span class="String">'</span></span>, <span class="FunctionArgument">(event)</span> <span class="Storage">=&gt;</span>
    <span class="Variable">@customer</span>.purchase <span class="Variable">@cart</span>
</pre><pre class="idle"><span class="Storage">var</span> Account;

<span class="FunctionName">Account</span> = <span class="Storage">function</span>(<span class="FunctionArgument">customer, cart</span>) {
  <span class="Storage">var</span> _this <span class="Keyword">=</span> <span class="Variable">this</span>;
  <span class="Variable">this</span>.customer <span class="Keyword">=</span> customer;
  <span class="Variable">this</span>.cart <span class="Keyword">=</span> cart;
  <span class="Keyword">return</span> <span class="Keyword">$</span>(<span class="String"><span class="String">'</span>.shopping_cart<span class="String">'</span></span>).bind(<span class="String"><span class="String">'</span>click<span class="String">'</span></span>, <span class="Storage">function</span>(<span class="LibraryClassType">event</span>) {
    <span class="Keyword">return</span> _this.customer.purchase(_this.cart);
  });
};
</pre><script>window.example29 = "Account = (customer, cart) ->\n  @customer = customer\n  @cart = cart\n\n  $('.shopping_cart').bind 'click', (event) =>\n    @customer.purchase @cart"</script><div class='minibutton load' onclick='javascript: loadConsole(example29);'>carregar</div><br class='clear' /></div>
    <p>
      Se tivéssemos usado <tt>-&gt;</tt> no <em>callback</em> acima, <tt>@customer</tt>
      teria se referido à propriedade "customer" indefinida do elemento DOM, e tentado
      chamar <tt>purchase()</tt> nela teria gerado uma exceção.
    </p>
    <p>
      Quando usados em uma definição de classe, métodos declarados com a seta dupla
      serão automaticamente vinculados a cada instância da classe quando a instância
      for construída.
    </p>

    <p>
      <span id="embedded" class="bookmark"></span>
      <b class="header">Embedded JavaScript</b>
      Hopefully, you'll never need to use it, but if you ever need to intersperse
      snippets of JavaScript within your CoffeeScript, you can
      use backticks to pass it straight through.
    </p>
    <div class='code'><pre class="idle">hi <span class="Keyword">=</span> <span class="String"><span class="String">`</span>function() {</span>
<span class="String">  return [document.title, &quot;Hello JavaScript&quot;].join(&quot;: &quot;);</span>
<span class="String">}<span class="String">`</span></span>



</pre><pre class="idle"><span class="Storage">var</span> hi;

<span class="FunctionName">hi</span> = <span class="Storage">function</span>() {
  <span class="Keyword">return</span> [<span class="LibraryClassType">document</span>.<span class="LibraryConstant">title</span>, <span class="String"><span class="String">&quot;</span>Hello JavaScript<span class="String">&quot;</span></span>].<span class="LibraryFunction">join</span>(<span class="String"><span class="String">&quot;</span>: <span class="String">&quot;</span></span>);
};
</pre><script>window.example30 = "hi = `function() {\n  return [document.title, \"Hello JavaScript\"].join(\": \");\n}`\n\nalert hi()"</script><div class='minibutton load' onclick='javascript: loadConsole(example30);'>carregar</div><div class='minibutton ok' onclick='javascript: var hi;

hi = function() {
  return [document.title, "Hello JavaScript"].join(": ");
};
;alert(hi());'>executar: hi()</div><br class='clear' /></div>

    <p>
      <span id="switch" class="bookmark"></span>
      <b class="header">Switch/When/Else</b>
      <b>Switch</b> statements in JavaScript are a bit awkward. You need to
      remember to <b>break</b> at the end of every <b>case</b> statement to
      avoid accidentally falling through to the default case.
      CoffeeScript prevents accidental fall-through, and can convert the <tt>switch</tt>
      into a returnable, assignable expression. The format is: <tt>switch</tt> condition,
      <tt>when</tt> clauses, <tt>else</tt> the default case.
    </p>
    <p>
      As in Ruby, <b>switch</b> statements in CoffeeScript can take multiple
      values for each <b>when</b> clause. If any of the values match, the clause
      runs.
    </p>
    <div class='code'><pre class="idle"><span class="Keyword">switch</span> day
  <span class="Keyword">when</span> <span class="String"><span class="String">&quot;</span>Mon<span class="String">&quot;</span></span> <span class="Keyword">then</span> go work
  <span class="Keyword">when</span> <span class="String"><span class="String">&quot;</span>Tue<span class="String">&quot;</span></span> <span class="Keyword">then</span> go relax
  <span class="Keyword">when</span> <span class="String"><span class="String">&quot;</span>Thu<span class="String">&quot;</span></span> <span class="Keyword">then</span> go iceFishing
  <span class="Keyword">when</span> <span class="String"><span class="String">&quot;</span>Fri<span class="String">&quot;</span></span>, <span class="String"><span class="String">&quot;</span>Sat<span class="String">&quot;</span></span>
    <span class="Keyword">if</span> day <span class="Keyword">is</span> bingoDay
      go bingo
      go dancing
  <span class="Keyword">when</span> <span class="String"><span class="String">&quot;</span>Sun<span class="String">&quot;</span></span> <span class="Keyword">then</span> go church
  <span class="Keyword">else</span> go work
</pre><pre class="idle">
<span class="Keyword">switch</span> (day) {
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Mon<span class="String">&quot;</span></span>:
    <span class="LibraryFunction">go</span>(work);
    <span class="Keyword">break</span>;
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Tue<span class="String">&quot;</span></span>:
    <span class="LibraryFunction">go</span>(relax);
    <span class="Keyword">break</span>;
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Thu<span class="String">&quot;</span></span>:
    <span class="LibraryFunction">go</span>(iceFishing);
    <span class="Keyword">break</span>;
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Fri<span class="String">&quot;</span></span>:
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Sat<span class="String">&quot;</span></span>:
    <span class="Keyword">if</span> (day <span class="Keyword">===</span> bingoDay) {
      <span class="LibraryFunction">go</span>(bingo);
      <span class="LibraryFunction">go</span>(dancing);
    }
    <span class="Keyword">break</span>;
  <span class="Keyword">case</span> <span class="String"><span class="String">&quot;</span>Sun<span class="String">&quot;</span></span>:
    <span class="LibraryFunction">go</span>(church);
    <span class="Keyword">break</span>;
  <span class="Keyword">default</span>:
    <span class="LibraryFunction">go</span>(work);
}
</pre><script>window.example31 = "switch day\n  when \"Mon\" then go work\n  when \"Tue\" then go relax\n  when \"Thu\" then go iceFishing\n  when \"Fri\", \"Sat\"\n    if day is bingoDay\n      go bingo\n      go dancing\n  when \"Sun\" then go church\n  else go work"</script><div class='minibutton load' onclick='javascript: loadConsole(example31);'>carregar</div><br class='clear' /></div>

    <p>
      <span id="try" class="bookmark"></span>
      <b class="header">Try/Catch/Finally</b>
      Try/catch statements are just about the same as JavaScript (although
      they work as expressions).
    </p>
    <div class='code'><pre class="idle"><span class="Keyword">try</span>
  allHellBreaksLoose()
  catsAndDogsLivingTogether()
<span class="Keyword">catch</span> error
  print error
<span class="Keyword">finally</span>
  cleanUp()

</pre><pre class="idle">
<span class="Keyword">try</span> {
  allHellBreaksLoose();
  catsAndDogsLivingTogether();
} <span class="Keyword">catch</span> (error) {
  <span class="LibraryFunction">print</span>(error);
} <span class="Keyword">finally</span> {
  cleanUp();
}
</pre><script>window.example32 = "try\n  allHellBreaksLoose()\n  catsAndDogsLivingTogether()\ncatch error\n  print error\nfinally\n  cleanUp()\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example32);'>carregar</div><br class='clear' /></div>

    <p>
      <span id="comparisons" class="bookmark"></span>
      <b class="header">Chained Comparisons</b>
      CoffeeScript borrows
      <a href="http://docs.python.org/reference/expressions.html#notin">chained comparisons</a>
      from Python &mdash; making it easy to test if a value falls within a
      certain range.
    </p>
    <div class='code'><pre class="idle">cholesterol <span class="Keyword">=</span> <span class="Number">127</span>

healthy <span class="Keyword">=</span> <span class="Number">200</span> <span class="Keyword">&gt;</span> cholesterol <span class="Keyword">&gt;</span> <span class="Number">60</span>


</pre><pre class="idle"><span class="Storage">var</span> cholesterol, healthy;

cholesterol <span class="Keyword">=</span> <span class="Number">127</span>;

healthy <span class="Keyword">=</span> (<span class="Number">200</span> <span class="Keyword">&gt;</span> cholesterol <span class="Keyword">&amp;</span><span class="Keyword">&amp;</span> cholesterol <span class="Keyword">&gt;</span> <span class="Number">60</span>);
</pre><script>window.example33 = "cholesterol = 127\n\nhealthy = 200 > cholesterol > 60\n\nalert healthy"</script><div class='minibutton load' onclick='javascript: loadConsole(example33);'>carregar</div><div class='minibutton ok' onclick='javascript: var cholesterol, healthy;

cholesterol = 127;

healthy = (200 > cholesterol && cholesterol > 60);
;alert(healthy);'>executar: healthy</div><br class='clear' /></div>

    <p>
      <span id="strings" class="bookmark"></span>
      <b class="header">String Interpolation, Block Strings, and Block Comments</b>
      Ruby-style string interpolation is included in CoffeeScript. Double-quoted
      strings allow for interpolated values, using <tt>#{ ... }</tt>,
      and single-quoted strings are literal.
    </p>
    <div class='code'><pre class="idle">author <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>Wittgenstein<span class="String">&quot;</span></span>
quote  <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>A picture is a fact. -- <span class="String"><span class="String">#{</span> author <span class="String">}</span></span><span class="String">&quot;</span></span>

sentence <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span><span class="String"><span class="String">#{</span> <span class="Number">22</span> <span class="Keyword">/</span> <span class="Number">7</span> <span class="String">}</span></span> is a decent approximation of π<span class="String">&quot;</span></span>





</pre><pre class="idle"><span class="Storage">var</span> author, quote, sentence;

author <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>Wittgenstein<span class="String">&quot;</span></span>;

quote <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>A picture is a fact. -- <span class="String">&quot;</span></span> <span class="Keyword">+</span> author;

sentence <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span> <span class="Keyword">+</span> (<span class="Number">22</span> / <span class="Number">7</span>) <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span> is a decent approximation of π<span class="String">&quot;</span></span>;
</pre><script>window.example34 = "author = \"Wittgenstein\"\nquote  = \"A picture is a fact. -- #{ author }\"\n\nsentence = \"#{ 22 / 7 } is a decent approximation of π\"\n\nalert sentence"</script><div class='minibutton load' onclick='javascript: loadConsole(example34);'>carregar</div><div class='minibutton ok' onclick='javascript: var author, quote, sentence;

author = "Wittgenstein";

quote = "A picture is a fact. -- " + author;

sentence = "" + (22 / 7) + " is a decent approximation of π";
;alert(sentence);'>executar: sentence</div><br class='clear' /></div>
    <p>
      Multiline strings are allowed in CoffeeScript.
    </p>
    <div class='code'><pre class="idle">mobyDick <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>Call me Ishmael. Some years ago --</span>
<span class="String"> never mind how long precisely -- having little</span>
<span class="String"> or no money in my purse, and nothing particular</span>
<span class="String"> to interest me on shore, I thought I would sail</span>
<span class="String"> about a little and see the watery part of the</span>
<span class="String"> world...<span class="String">&quot;</span></span>


</pre><pre class="idle"><span class="Storage">var</span> mobyDick;

mobyDick <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>Call me Ishmael. Some years ago -- never mind how long precisely -- having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world...<span class="String">&quot;</span></span>;
</pre><script>window.example35 = "mobyDick = \"Call me Ishmael. Some years ago --\n never mind how long precisely -- having little\n or no money in my purse, and nothing particular\n to interest me on shore, I thought I would sail\n about a little and see the watery part of the\n world...\"\n\nalert mobyDick"</script><div class='minibutton load' onclick='javascript: loadConsole(example35);'>carregar</div><div class='minibutton ok' onclick='javascript: var mobyDick;

mobyDick = "Call me Ishmael. Some years ago -- never mind how long precisely -- having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world...";
;alert(mobyDick);'>executar: mobyDick</div><br class='clear' /></div>
    <p>
      Block strings can be used to hold formatted or indentation-sensitive text
      (or, if you just don't feel like escaping quotes and apostrophes). The
      indentation level that begins the block is maintained throughout, so
      you can keep it all aligned with the body of your code.
    </p>
    <div class='code'><pre class="idle">html <span class="Keyword">=</span> <span class="String"><span class="String">&quot;&quot;&quot;</span></span>
<span class="String">       &lt;strong&gt;</span>
<span class="String">         cup of coffeescript</span>
<span class="String">       &lt;/strong&gt;</span>
<span class="String">       <span class="String">&quot;&quot;&quot;</span></span>
       
</pre><pre class="idle"><span class="Storage">var</span> html;

html <span class="Keyword">=</span> <span class="String"><span class="String">&quot;</span>&lt;strong&gt;<span class="UserDefinedConstant">\n</span>  cup of coffeescript<span class="UserDefinedConstant">\n</span>&lt;/strong&gt;<span class="String">&quot;</span></span>;
</pre><script>window.example36 = "html = \"\"\"\n       <strong>\n         cup of coffeescript\n       </strong>\n       \"\"\"\n\nalert html"</script><div class='minibutton load' onclick='javascript: loadConsole(example36);'>carregar</div><div class='minibutton ok' onclick='javascript: var html;

html = "<strong>\n  cup of coffeescript\n</strong>";
;alert(html);'>executar: html</div><br class='clear' /></div>
    <p>
      Double-quoted block strings, like other double-quoted strings, allow interpolation.
    </p>
    <p>
      Sometimes you'd like to pass a block comment through to the generated
      JavaScript. For example, when you need to embed a licensing header at
      the top of a file. Block comments, which mirror the syntax for block strings,
      are preserved in the generated code.
    </p>
    <div class='code'><pre class="idle"><span class="Comment"><span class="Comment">###</span></span>
<span class="Comment">CoffeeScript Compiler v1.3.3</span>
<span class="Comment">Released under the MIT License</span>
<span class="Comment"><span class="Comment">###</span></span>


</pre><pre class="idle"><span class="Comment"><span class="Comment">/*</span></span>
<span class="Comment">CoffeeScript Compiler v1.3.3</span>
<span class="Comment">Released under the MIT License</span>
<span class="Comment"><span class="Comment">*/</span></span>


</pre><script>window.example37 = "###\nCoffeeScript Compiler v1.3.3\nReleased under the MIT License\n###\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example37);'>carregar</div><br class='clear' /></div>

    <p>
      <span id="regexes" class="bookmark"></span>
      <b class="header">Block Regular Expressions</b>
      Similar to block strings and comments, CoffeeScript supports block regexes &mdash;
      extended regular expressions that ignore internal whitespace and can contain
      comments and interpolation. Modeled after Perl's <tt>/x</tt> modifier, CoffeeSctipt's
      block regexes are delimited by <tt>///</tt> and go a long way towards making complex
      regular expressions readable. To quote from the CoffeeScript source:
    </p>
    <div class='code'><pre class="idle">OPERATOR <span class="Keyword">=</span> <span class="String">/// ^ (</span>
<span class="String">  ?: [-=]&gt;             <span class="Comment"><span class="Comment">#</span> function</span></span>
<span class="String">   | [-+*/%&lt;&gt;&amp;|^!?=]=  <span class="Comment"><span class="Comment">#</span> compound assign / compare</span></span>
<span class="String">   | &gt;&gt;&gt;=?             <span class="Comment"><span class="Comment">#</span> zero-fill right shift</span></span>
<span class="String">   | ([-+:])\1         <span class="Comment"><span class="Comment">#</span> doubles</span></span>
<span class="String">   | ([&amp;|&lt;&gt;])\2=?      <span class="Comment"><span class="Comment">#</span> logic / shift</span></span>
<span class="String">   | \?\.              <span class="Comment"><span class="Comment">#</span> soak access</span></span>
<span class="String">   | \.{2,3}           <span class="Comment"><span class="Comment">#</span> range or splat</span></span>
<span class="String">) ///</span>


</pre><pre class="idle"><span class="Storage">var</span> OPERATOR;

OPERATOR <span class="Keyword">=</span><span class="String"> <span class="String">/</span>^(?:[-=]&gt;|[-+*<span class="UserDefinedConstant">\/</span>%&lt;&gt;&amp;|^!?=]=|&gt;&gt;&gt;=?|([-+:])<span class="UserDefinedConstant">\1</span>|([&amp;|&lt;&gt;])<span class="UserDefinedConstant">\2</span>=?|<span class="UserDefinedConstant">\?</span><span class="UserDefinedConstant">\.</span>|<span class="UserDefinedConstant">\.</span>{2,3})<span class="String">/</span></span>;
</pre><script>window.example38 = "OPERATOR = /// ^ (\n  ?: [-=]>             # function\n   | [-+*/%<>&|^!?=]=  # compound assign / compare\n   | >>>=?             # zero-fill right shift\n   | ([-+:])\\1         # doubles\n   | ([&|<>])\\2=?      # logic / shift\n   | \\?\\.              # soak access\n   | \\.{2,3}           # range or splat\n) ///\n\n\n"</script><div class='minibutton load' onclick='javascript: loadConsole(example38);'>carregar</div><br class='clear' /></div>


    <h2>
      <span id="cake" class="bookmark"></span>
      Cake, and Cakefiles
    </h2>

    <p>
      CoffeeScript includes a (very) simple build system similar to
      <a href="http://www.gnu.org/software/make/">Make</a> and
      <a href="http://rake.rubyforge.org/">Rake</a>. Naturally,
      it's called Cake, and is used for the tasks that build and test the CoffeeScript
      language itself. Tasks are defined in a file named <tt>Cakefile</tt>, and
      can be invoked by running <tt>cake [task]</tt> from within the directory.
      To print a list of all the tasks and options, just type <tt>cake</tt>.
    </p>

    <p>
      Task definitions are written in CoffeeScript, so you can put arbitrary code
      in your Cakefile. Define a task with a name, a long description, and the
      function to invoke when the task is run. If your task takes a command-line
      option, you can define the option with short and long flags, and it will
      be made available in the <tt>options</tt> object. Here's a task that uses
      the Node.js API to rebuild CoffeeScript's parser:
    </p>
    <div class='code'><pre class="idle">fs <span class="Keyword">=</span> require <span class="String"><span class="String">'</span>fs<span class="String">'</span></span>

option <span class="String"><span class="String">'</span>-o<span class="String">'</span></span>, <span class="String"><span class="String">'</span>--output [DIR]<span class="String">'</span></span>, <span class="String"><span class="String">'</span>directory for compiled code<span class="String">'</span></span>

task <span class="String"><span class="String">'</span>build:parser<span class="String">'</span></span>, <span class="String"><span class="String">'</span>rebuild the Jison parser<span class="String">'</span></span>, <span class="FunctionArgument">(options)</span> <span class="Storage">-&gt;</span>
  require <span class="String"><span class="String">'</span>jison<span class="String">'</span></span>
  code <span class="Keyword">=</span> require(<span class="String"><span class="String">'</span>./lib/grammar<span class="String">'</span></span>).parser.generate()
  dir  <span class="Keyword">=</span> options.output <span class="Keyword">or</span> <span class="String"><span class="String">'</span>lib<span class="String">'</span></span>
  fs.writeFile <span class="String"><span class="String">&quot;</span><span class="String"><span class="String">#{</span>dir<span class="String">}</span></span>/parser.js<span class="String">&quot;</span></span>, code
</pre><pre class="idle"><span class="Storage">var</span> fs;

fs <span class="Keyword">=</span> require(<span class="String"><span class="String">'</span>fs<span class="String">'</span></span>);

option(<span class="String"><span class="String">'</span>-o<span class="String">'</span></span>, <span class="String"><span class="String">'</span>--output [DIR]<span class="String">'</span></span>, <span class="String"><span class="String">'</span>directory for compiled code<span class="String">'</span></span>);

task(<span class="String"><span class="String">'</span>build:parser<span class="String">'</span></span>, <span class="String"><span class="String">'</span>rebuild the Jison parser<span class="String">'</span></span>, <span class="Storage">function</span>(options) {
  <span class="Storage">var</span> code, dir;
  require(<span class="String"><span class="String">'</span>jison<span class="String">'</span></span>);
  code <span class="Keyword">=</span> require(<span class="String"><span class="String">'</span>./lib/grammar<span class="String">'</span></span>).parser.generate();
  dir <span class="Keyword">=</span> options.output <span class="Keyword">||</span> <span class="String"><span class="String">'</span>lib<span class="String">'</span></span>;
  <span class="Keyword">return</span> fs.writeFile(<span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span> <span class="Keyword">+</span> dir <span class="Keyword">+</span> <span class="String"><span class="String">&quot;</span>/parser.js<span class="String">&quot;</span></span>, code);
});
</pre><script>window.example39 = "fs = require 'fs'\n\noption '-o', '--output [DIR]', 'directory for compiled code'\n\ntask 'build:parser', 'rebuild the Jison parser', (options) ->\n  require 'jison'\n  code = require('./lib/grammar').parser.generate()\n  dir  = options.output or 'lib'\n  fs.writeFile \"#{dir}/parser.js\", code"</script><div class='minibutton load' onclick='javascript: loadConsole(example39);'>carregar</div><br class='clear' /></div>
    <p>
      If you need to invoke one task before another &mdash; for example, running
      <tt>build</tt> before <tt>test</tt>, you can use the <tt>invoke</tt> function:
      <tt>invoke 'build'</tt>. Cake tasks are a minimal way to expose your
      CoffeeScript functions to the command line, so
      <a href="documentation/docs/cake.html">don't expect any fanciness built-in</a>.
      If you need dependencies, or async callbacks, it's best to put them in your
      code itself &mdash; not the cake task.
    </p>

    <h2>
      <span id="scripts" class="bookmark"></span>
      "text/coffeescript" Script Tags
    </h2>

    <p>
      While it's not recommended for serious use, CoffeeScripts may be included
      directly within the browser using <tt>&lt;script type="text/coffeescript"&gt;</tt>
      tags. The source includes a compressed and minified version of the compiler
      (<a href="extras/coffee-script.js">Download current version here, 39k when gzipped</a>)
      as <tt>extras/coffee-script.js</tt>. Include this file on a page with
      inline CoffeeScript tags, and it will compile and evaluate them in order.
    </p>

    <p>
      In fact, the little bit of glue script that runs "Try CoffeeScript" above,
      as well as the jQuery for the menu, is implemented in just this way.
      View source and look at the bottom of the page to see the example.
      Including the script also gives you access to <tt>CoffeeScript.compile()</tt>
      so you can pop open Firebug and try compiling some strings.
    </p>

    <p>
      The usual caveats about CoffeeScript apply &mdash; your inline scripts will
      run within a closure wrapper, so if you want to expose global variables or
      functions, attach them to the <tt>window</tt> object.
    </p>

    <h2>
      <span id="resources" class="bookmark"></span>
      Books
    </h2>

    <p>
      There are a number of excellent resources to help you get
      started with CoffeeScript, some of which are freely available online.
    </p>

    <ul>
      <li>
        <a href="http://arcturo.github.com/library/coffeescript/">The Little Book on CoffeeScript</a>
        is a brief 5-chapter introduction to CoffeeScript, written with great
        clarity and precision by
        <a href="http://alexmaccaw.co.uk/">Alex MacCaw</a>.
      </li>
      <li>
        <a href="http://autotelicum.github.com/Smooth-CoffeeScript/">Smooth CoffeeScript</a>
        is a reimagination of the excellent book
        <a href="http://eloquentjavascript.net/">Eloquent JavaScript</a>, as if
        it had been written in CoffeeScript instead. Covers language features
        as well a the functional and object oriented programming styles. By
        <a href="https://github.com/autotelicum">E. Hoigaard</a>.
      </li>
      <li>
        <a href="http://pragprog.com/book/tbcoffee/coffeescript">CoffeeScript: Accelerated JavaScript Development</a>
        is <a href="http://trevorburnham.com/">Trevor Burnham</a>'s thorough
        introduction to the language. By the end of the book, you'll have built
        a fast-paced multiplayer word game, writing both the client-side and Node.js
        portions in CoffeeScript.
      </li>
    </ul>

    <h2>
      Screencasts
    </h2>

    <ul>
      <li>
        <a href="http://coffeescript.codeschool.com">A Sip of CoffeeScript</a> is a <a href="http://www.codeschool.com">Code School Course</a>
        which combines 6 screencasts with in-browser coding to make learning fun.  The first level is free to try out.
      </li>
      <li>
        <a href="http://peepcode.com/products/coffeescript">Meet CoffeeScript</a>
        is a 75-minute long screencast by <a href="http://peepcode.com/">PeepCode</a>.
        Highly memorable for its animations which demonstrate transforming CoffeeScript
        into the equivalent JS.
      </li>
      <li>
        If you're looking for less of a time commitment, RailsCasts'
        <a href="http://railscasts.com/episodes/267-coffeescript-basics">CoffeeScript Basics</a>
        should have you covered, hitting all of the important notes about CoffeeScript
        in 11 minutes.
      </li>
    </ul>

    <h2>
      Examples
    </h2>

    <p>
      The <a href="https://github.com/languages/coffeescript">best list of
      open-source CoffeeScript examples</a> can be found on GitHub. But just
      to throw out few more:
    </p>

    <ul>
      <li>
        <b>github</b>'s <a href="http://hubot.github.com/">Hubot</a>,
        a friendly IRC robot that can perform any number of useful and useless tasks.
      </li>
      <li>
        <b>sstephenson</b>'s <a href="http://pow.cx/">Pow</a>,
        a zero-configuration Rack server, with comprehensive annotated source.
      </li>
      <li>
        <b>frank06</b>'s <a href="http://riakjs.org/">riak-js</a>, a Node.js client for
        <a href="http://www.basho.com/Riak.html">Riak</a>, with support for HTTP
        and Protocol Buffers.
      </li>
      <li>
        <b>technoweenie</b>'s <a href="https://github.com/technoweenie/coffee-resque">Coffee-Resque</a>,
        a port of <a href="https://github.com/defunkt/resque">Resque</a> for Node.js.
      </li>
      <li>
        <b>assaf</b>'s <a href="http://zombie.labnotes.org/">Zombie.js</a>,
        a headless, full-stack, faux-browser testing library for Node.js.
      </li>
      <li>
        <b>jashkenas</b>' <a href="documentation/docs/underscore.html">Underscore.coffee</a>, a port
        of the <a href="http://documentcloud.github.com/underscore/">Underscore.js</a>
        library of helper functions.
      </li>
      <li>
        <b>stephank</b>'s <a href="https://github.com/stephank/orona">Orona</a>, a remake of
        the Bolo tank game for modern browsers.
      </li>
      <li>
        <b>josh</b>'s <a href="http://josh.github.com/nack/">nack</a>, a Node.js-powered
        <a href="http://rack.rubyforge.org/">Rack</a> server.
      </li>
    </ul>

    <h2>
      Resources
    </h2>

    <ul>
      <li>
        <a href="http://github.com/jashkenas/coffee-script/">Source Code</a><br />
        Use <tt>bin/coffee</tt> to test your changes,<br />
        <tt>bin/cake test</tt> to run the test suite,<br />
        <tt>bin/cake build</tt> to rebuild the CoffeeScript compiler, and <br />
        <tt>bin/cake build:parser</tt> to regenerate the Jison parser if you're
        working on the grammar. <br /><br />
        <tt>git checkout lib &amp;&amp; bin/cake build:full</tt> is a good command to run when you're working
        on the core language. It'll refresh the lib directory
        (in case you broke something), build your altered compiler, use that to
        rebuild itself (a good sanity test) and then run all of the tests. If
        they pass, there's a good chance you've made a successful change.
      </li>
      <li>
        <a href="http://github.com/jashkenas/coffee-script/issues">CoffeeScript Issues</a><br />
        Bug reports, feature proposals, and ideas for changes to the language belong here.
      </li>
      <li>
        <a href="https://groups.google.com/forum/#!forum/coffeescript">CoffeeScript Google Group</a><br />
        If you'd like to ask a question, the mailing list is a good place to get help.
      </li>
      <li>
        <a href="http://github.com/jashkenas/coffee-script/wiki">The CoffeeScript Wiki</a><br />
        If you've ever learned a neat CoffeeScript tip or trick, or ran into a gotcha &mdash; share it on the wiki.
        The wiki also serves as a directory of handy
        <a href="http://github.com/jashkenas/coffee-script/wiki/Text-editor-plugins">text editor extensions</a>,
        <a href="http://github.com/jashkenas/coffee-script/wiki/Web-framework-plugins">web framework plugins</a>,
        and general <a href="http://github.com/jashkenas/coffee-script/wiki/Build-tools">CoffeeScript build tools</a>.
      </li>
      <li>
        <a href="http://github.com/jashkenas/coffee-script/wiki/FAQ">The FAQ</a><br />
        Perhaps your CoffeeScript-related question has been asked before. Check the FAQ first.
      </li>
      <li>
        <a href="https://github.com/jashkenas/coffee-script/downloads">High-Rez Logo</a><br />
        The CoffeeScript logo is available in Illustrator, EPS and PSD formats, for use
        in presentations.
      </li>
    </ul>

    <h2>
      <span id="webchat" class="bookmark"></span>
      Web Chat (IRC)
    </h2>

    <p>
      Quick help and advice can usually be found in the CoffeeScript IRC room.
      Join <tt>#coffeescript</tt> on <tt>irc.freenode.net</tt>, or click the
      button below to open a webchat session on this page.
    </p>

    <p>
      <button id="open_webchat">click to open #coffeescript</button>
    </p>

    <h2>
      <span id="changelog" class="bookmark"></span>
      Change Log
    </h2>

    <p>
      <b class="header" style="margin-top: 20px;">
        <a href="https://github.com/jashkenas/coffee-script/compare/1.3.1...1.3.3">1.3.3</a>
        <span class="timestamp"> &ndash; <small>May 15, 2012</small></span>
      </b>
      <ul>
        <li>
          Due to the new semantics of JavaScript's strict mode, CoffeeScript no
          longer guarantees that constructor functions have names in all runtimes.
          See <a href="https://github.com/jashkenas/coffee-script/issues/2052">#2052</a>
          for discussion.
        </li>
        <li>
          Inside of a nested function inside of an instance method, it's now possible
          to call <tt>super</tt> more reliably (walks recursively up).
        </li>
        <li>
          Named loop variables no longer have different scoping heuristics than
          other local variables. (Reverts #643)
        </li>
        <li>
          Fix for splats nested within the LHS of destructuring assignment.
        </li>
        <li>
          Corrections to our compile time strict mode forbidding of octal literals.
        </li>
      </ul>
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">
        <a href="https://github.com/jashkenas/coffee-script/compare/1.2.0...1.3.1">1.3.1</a>
        <span class="timestamp"> &ndash; <small>April 10, 2012</small></span>
      </b>
      <ul>
        <li>
          CoffeeScript now enforces all of JavaScript's <b>Strict Mode</b> early syntax
          errors at compile time. This includes old-style octal literals,
          duplicate property names in object literals, duplicate parameters in
          a function definition, deleting naked variables, setting the value of
          <tt>eval</tt> or <tt>arguments</tt>, and more.
          See a full discussion at
          <a href="https://github.com/jashkenas/coffee-script/issues/1547">#1547</a>.
        </li>
        <li>
          The REPL now has a handy new multi-line mode for entering large
          blocks of code. It's useful when copy-and-pasting examples into the
          REPL. Enter multi-line mode with <tt>Ctrl-V</tt>. You may also now
          pipe input directly into the REPL.
        </li>
        <li>
          CoffeeScript now prints a <tt>Generated by CoffeeScript VERSION</tt>
          header at the top of each compiled file.
        </li>
        <li>
          Conditional assignment of previously undefined variables
          <tt>a or= b</tt> is now considered a syntax error.
        </li>
        <li>
          A tweak to the semantics of <tt>do</tt>, which can now be used to
          more easily simulate a namespace: <tt>do (x = 1, y = 2) -> ...</tt>
        </li>
        <li>
          Loop indices are now mutable within a loop iteration, and immutable
          between them.
        </li>
        <li>
          Both endpoints of a slice are now allowed to be omitted for consistency,
          effectively creating a shallow copy of the list.
        </li>
        <li>
          Additional tweaks and improvments to <tt>coffee --watch</tt> under
          Node's "new" file watching API. Watch will now beep by default
          if you introduce a syntax error into a watched script. We also now
          ignore hidden directories by default when watching recursively.
        </li>
      </ul>
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">
        <a href="https://github.com/jashkenas/coffee-script/compare/1.1.3...1.2.0">1.2.0</a>
        <span class="timestamp"> &ndash; <small>Dec. 18, 2011</small></span>
      </b>
      <ul>
        <li>
          Multiple improvements to <tt>coffee --watch</tt> and <tt>--join</tt>.
          You may now use both together, as well as add and remove
          files and directories within a <tt>--watch</tt>'d folder.
        </li>
        <li>
          The <tt>throw</tt> statement can now be used as part of an expression.
        </li>
        <li>
          Block comments at the top of the file will now appear outside of the
          safety closure wrapper.
        </li>
        <li>
          Fixed a number of minor 1.1.3 regressions having to do with trailing
          operators and unfinished lines, and a more major 1.1.3 regression that
          caused bound functions <i>within</i> bound class functions to have the incorrect
          <tt>this</tt>.
        </li>
      </ul>
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">
        <a href="https://github.com/jashkenas/coffee-script/compare/1.1.2...1.1.3">1.1.3</a>
        <span class="timestamp"> &ndash; <small>Nov. 8, 2011</small></span>
      </b>
      <ul>
        <li>
          Ahh, whitespace. CoffeeScript's compiled JS now tries to space things
          out and keep it readable, as you can see in the examples on this page.
        </li>
        <li>
          You can now call <tt>super</tt> in class level methods in class bodies,
          and bound class methods now preserve their correct context.
        </li>
        <li>
          JavaScript has always supported octal numbers <tt>010 is 8</tt>,
          and hexadecimal numbers <tt>0xf is 15</tt>, but CoffeeScript now
          also supports binary numbers: <tt>0b10 is 2</tt>.
        </li>
        <li>
          The CoffeeScript module has been nested under a subdirectory to make
          it easier to <tt>require</tt> individual components separately, without
          having to use <b>npm</b>. For example, after adding the CoffeeScript
          folder to your path: <tt>require('coffee-script/lexer')</tt>
        </li>
        <li>
          There's a new "link" feature in Try CoffeeScript on this webpage. Use
          it to get a shareable permalink for your example script.
        </li>
        <li>
          The <tt>coffee --watch</tt> feature now only works on Node.js 0.6.0
          and higher, but now also works properly on Windows.
        </li>
        <li>
          Lots of small bug fixes from
          <b><a href="https://github.com/michaelficarra">@michaelficarra</a></b>,
          <b><a href="https://github.com/geraldalewis">@geraldalewis</a></b>,
          <b><a href="https://github.com/satyr">@satyr</a></b>, and
          <b><a href="https://github.com/trevorburnham">@trevorburnham</a></b>.
        </li>
      </ul>
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">
        <a href="https://github.com/jashkenas/coffee-script/compare/1.1.1...1.1.2">1.1.2</a>
        <span class="timestamp"> &ndash; <small>August 4, 2011</small></span>
      </b>
      Fixes for block comment formatting, <tt>?=</tt> compilation, implicit calls
      against control structures, implicit invocation of a try/catch block,
      variadic arguments leaking from local scope, line numbers in syntax errors
      following heregexes, property access on parenthesized number literals,
      bound class methods and super with reserved names, a REPL overhaul,
      consecutive compiled semicolons, block comments in implicitly called objects,
      and a Chrome bug.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">1.1.1
        <span class="timestamp"> &ndash; <small>May 10, 2011</small></span>
      </b>
      Bugfix release for classes with external constructor functions, see
      issue #1182.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">1.1.0
        <span class="timestamp"> &ndash; <small>May 1, 2011</small></span>
      </b>
      When running via the <tt>coffee</tt> executable, <tt>process.argv</tt> and
      friends now report <tt>coffee</tt> instead of <tt>node</tt>.
      Better compatibility with <b>Node.js 0.4.x</b> module lookup changes.
      The output in the REPL is now colorized, like Node's is.
      Giving your concatenated CoffeeScripts a name when using <tt>--join</tt> is now mandatory.
      Fix for lexing compound division <tt>/=</tt> as a regex accidentally.
      All <tt>text/coffeescript</tt> tags should now execute in the order they're included.
      Fixed an issue with extended subclasses using external constructor functions.
      Fixed an edge-case infinite loop in <tt>addImplicitParentheses</tt>.
      Fixed exponential slowdown with long chains of function calls.
      Globals no longer leak into the CoffeeScript REPL.
      Splatted parameters are declared local to the function.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">1.0.1
        <span class="timestamp"> &ndash; <small>Jan 31, 2011</small></span>
      </b>
      Fixed a lexer bug with Unicode identifiers. Updated REPL for compatibility
      with Node.js 0.3.7. Fixed requiring relative paths in the REPL. Trailing
      <tt>return</tt> and <tt>return undefined</tt> are now optimized away.
      Stopped requiring the core Node.js <tt>"util"</tt> module for
      back-compatibility with Node.js 0.2.5. Fixed a case where a
      conditional <tt>return</tt> would cause fallthrough in a <tt>switch</tt>
      statement. Optimized empty objects in destructuring assignment.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">1.0.0
        <span class="timestamp"> &ndash; <small>Dec 24, 2010</small></span>
      </b>
      CoffeeScript loops no longer try to preserve block scope when functions
      are being generated within the loop body. Instead, you can use the
      <tt>do</tt> keyword to create a convenient closure wrapper.
      Added a <tt>--nodejs</tt> flag for passing through options directly
      to the <tt>node</tt> executable.
      Better behavior around the use of pure statements within expressions.
      Fixed inclusive slicing through <tt>-1</tt>, for all browsers, and splicing
      with arbitrary expressions as endpoints.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.6
        <span class="timestamp"> &ndash; <small>Dec 6, 2010</small></span>
      </b>
      The REPL now properly formats stacktraces, and stays alive through
      asynchronous exceptions. Using <tt>--watch</tt> now prints timestamps as
      files are compiled. Fixed some accidentally-leaking variables within
      plucked closure-loops. Constructors now maintain their declaration
      location within a class body. Dynamic object keys were removed.
      Nested classes are now supported. Fixes execution context for naked
      splatted functions. Bugfix for inversion of chained comparisons.
      Chained class instantiation now works properly with splats.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.5
        <span class="timestamp"> &ndash; <small>Nov 21, 2010</small></span>
      </b>
      0.9.5 should be considered the first release candidate for CoffeeScript 1.0.
      There have been a large number of internal changes since the previous release,
      many contributed from <b>satyr</b>'s <a href="http://github.com/satyr/coco">Coco</a>
      dialect of CoffeeScript. Heregexes (extended regexes) were added. Functions
      can now have default arguments. Class bodies are now executable code.
      Improved syntax errors for invalid CoffeeScript. <tt>undefined</tt> now
      works like <tt>null</tt>, and cannot be assigned a new value.
      There was a precedence change with respect to single-line comprehensions:
      <tt>result = i for i in list</tt><br /> used to parse as <tt>result = (i for i in list)</tt>
      by default ... it now parses as <br /><tt>(result = i) for i in list</tt>.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.4
        <span class="timestamp"> &ndash; <small>Sep 21, 2010</small></span>
      </b>
      CoffeeScript now uses appropriately-named temporary variables, and recycles
      their references after use. Added <tt>require.extensions</tt> support for
      <b>Node.js 0.3</b>. Loading CoffeeScript in the browser now adds just a
      single <tt>CoffeeScript</tt> object to global scope.
      Fixes for implicit object and block comment edge cases.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.3
        <span class="timestamp"> &ndash; <small>Sep 16, 2010</small></span>
      </b>
      CoffeeScript <tt>switch</tt> statements now compile into JS <tt>switch</tt>
      statements &mdash; they previously compiled into <tt>if/else</tt> chains
      for JavaScript 1.3 compatibility.
      Soaking a function invocation is now supported. Users of the RubyMine
      editor should now be able to use <tt>--watch</tt> mode.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.2
        <span class="timestamp"> &ndash; <small>Aug 23, 2010</small></span>
      </b>
      Specifying the start and end of a range literal is now optional, eg. <tt>array[3..]</tt>.
      You can now say <tt>a not instanceof b</tt>.
      Fixed important bugs with nested significant and non-significant indentation (Issue #637).
      Added a <tt>--require</tt> flag that allows you to hook into the <tt>coffee</tt> command.
      Added a custom <tt>jsl.conf</tt> file for our preferred JavaScriptLint setup.
      Sped up Jison grammar compilation time by flattening rules for operations.
      Block comments can now be used with JavaScript-minifier-friendly syntax.
      Added JavaScript's compound assignment bitwise operators. Bugfixes to
      implicit object literals with leading number and string keys, as the subject
      of implicit calls, and as part of compound assignment.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.1
        <span class="timestamp"> &ndash; <small>Aug 11, 2010</small></span>
      </b>
      Bugfix release for <b>0.9.1</b>. Greatly improves the handling of mixed
      implicit objects, implicit function calls, and implicit indentation.
      String and regex interpolation is now strictly <tt>#{ ... }</tt> (Ruby style).
      The compiler now takes a <tt>--require</tt> flag, which specifies scripts
      to run before compilation.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.9.0
        <span class="timestamp"> &ndash; <small>Aug 4, 2010</small></span>
      </b>
      The CoffeeScript <b>0.9</b> series is considered to be a release candidate
      for <b>1.0</b>; let's give her a shakedown cruise. <b>0.9.0</b> introduces a massive
      backwards-incompatible change: Assignment now uses <tt>=</tt>, and object
      literals use <tt>:</tt>, as in JavaScript. This allows us to have implicit
      object literals, and YAML-style object definitions. Half assignments are
      removed, in favor of <tt>+=</tt>, <tt>or=</tt>, and friends.
      Interpolation now uses a hash mark <tt>#</tt> instead of the dollar sign
      <tt>$</tt> &mdash; because dollar signs may be part of a valid JS identifier.
      Downwards range comprehensions are now safe again, and are optimized to
      straight for loops when created with integer endpoints.
      A fast, unguarded form of object comprehension was added:
      <tt>for all key, value of object</tt>. Mentioning the <tt>super</tt> keyword
      with no arguments now forwards all arguments passed to the function,
      as in Ruby. If you extend class <tt>B</tt> from parent class <tt>A</tt>, if
      <tt>A</tt> has an <tt>extended</tt> method defined, it will be called, passing in <tt>B</tt> &mdash;
      this enables static inheritance, among other things. Cleaner output for
      functions bound with the fat arrow. <tt>@variables</tt> can now be used
      in parameter lists, with the parameter being automatically set as a property
      on the object &mdash; useful in constructors and setter functions.
      Constructor functions can now take splats.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.7.2
        <span class="timestamp"> &ndash; <small>Jul 12, 2010</small></span>
      </b>
      Quick bugfix (right after 0.7.1) for a problem that prevented <tt>coffee</tt>
      command-line options from being parsed in some circumstances.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.7.1
        <span class="timestamp"> &ndash; <small>Jul 11, 2010</small></span>
      </b>
      Block-style comments are now passed through and printed as JavaScript block
      comments -- making them useful for licenses and copyright headers. Better
      support for running coffee scripts standalone via hashbangs.
      Improved syntax errors for tokens that are not in the grammar.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.7.0
        <span class="timestamp"> &ndash; <small>Jun 28, 2010</small></span>
      </b>
      Official CoffeeScript variable style is now camelCase, as in JavaScript.
      Reserved words are now allowed as object keys, and will be quoted for you.
      Range comprehensions now generate cleaner code, but you have to specify <tt>by -1</tt>
      if you'd like to iterate downward. Reporting of syntax errors is greatly
      improved from the previous release. Running <tt>coffee</tt> with no arguments
      now launches the REPL, with Readline support. The <tt>&lt;-</tt> bind operator
      has been removed from CoffeeScript. The <tt>loop</tt> keyword was added,
      which is equivalent to a <tt>while true</tt> loop. Comprehensions that contain
      closures will now close over their variables, like the semantics of a <tt>forEach</tt>.
      You can now use bound function in class definitions (bound to the instance).
      For consistency, <tt>a in b</tt> is now an array presence check, and <tt>a of b</tt>
      is an object-key check. Comments are no longer passed through to the generated
      JavaScript.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.6.2
        <span class="timestamp"> &ndash; <small>May 15, 2010</small></span>
      </b>
      The <tt>coffee</tt> command will now preserve directory structure when
      compiling a directory full of scripts. Fixed two omissions that were preventing
      the CoffeeScript compiler from running live within Internet Explorer.
      There's now a syntax for block comments, similar in spirit to CoffeeScript's heredocs.
      ECMA Harmony DRY-style pattern matching is now supported, where the name
      of the property is the same as the name of the value: <tt>{name, length}: func</tt>.
      Pattern matching is now allowed within comprehension variables. <tt>unless</tt>
      is now allowed in block form. <tt>until</tt> loops were added, as the inverse
      of <tt>while</tt> loops. <tt>switch</tt> statements are now allowed without
      switch object clauses. Compatible
      with Node.js <b>v0.1.95</b>.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.6.1
        <span class="timestamp"> &ndash; <small>Apr 12, 2010</small></span>
      </b>
      Upgraded CoffeeScript for compatibility with the new Node.js <b>v0.1.90</b>
      series.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.6.0
        <span class="timestamp"> &ndash; <small>Apr 3, 2010</small></span>
      </b>
      Trailing commas are now allowed, a-la Python. Static
      properties may be assigned directly within class definitions,
      using <tt>@property</tt> notation.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.6
        <span class="timestamp"> &ndash; <small>Mar 23, 2010</small></span>
      </b>
      Interpolation can now be used within regular expressions and heredocs, as well as
      strings. Added the <tt>&lt;-</tt> bind operator.
      Allowing assignment to half-expressions instead of special <tt>||=</tt>-style
      operators. The arguments object is no longer automatically converted into
      an array. After requiring <tt>coffee-script</tt>, Node.js can now directly
      load <tt>.coffee</tt> files, thanks to <b>registerExtension</b>. Multiple
      splats can now be used in function calls, arrays, and pattern matching.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.5
        <span class="timestamp"> &ndash; <small>Mar 8, 2010</small></span>
      </b>
      String interpolation, contributed by
      <a href="http://github.com/StanAngeloff">Stan Angeloff</a>.
      Since <tt>--run</tt> has been the default since <b>0.5.3</b>, updating
      <tt>--stdio</tt> and <tt>--eval</tt> to run by default, pass <tt>--compile</tt>
      as well if you'd like to print the result.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.4
        <span class="timestamp"> &ndash; <small>Mar 3, 2010</small></span>
      </b>
      Bugfix that corrects the Node.js global constants <tt>__filename</tt> and
      <tt>__dirname</tt>. Tweaks for more flexible parsing of nested function
      literals and improperly-indented comments. Updates for the latest Node.js API.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.3
        <span class="timestamp"> &ndash; <small>Feb 27, 2010</small></span>
      </b>
      CoffeeScript now has a syntax for defining classes. Many of the core
      components (Nodes, Lexer, Rewriter, Scope, Optparse) are using them.
      Cakefiles can use <tt>optparse.coffee</tt> to define options for tasks.
      <tt>--run</tt> is now the default flag for the <tt>coffee</tt> command,
      use <tt>--compile</tt> to save JavaScripts. Bugfix for an ambiguity between
      RegExp literals and chained divisions.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.2
        <span class="timestamp"> &ndash; <small>Feb 25, 2010</small></span>
      </b>
      Added a compressed version of the compiler for inclusion in web pages as
      <br  /><tt>extras/coffee-script.js</tt>. It'll automatically run any script tags
      with type <tt>text/coffeescript</tt> for you. Added a <tt>--stdio</tt> option
      to the <tt>coffee</tt> command, for piped-in compiles.
    </p>


    <p>
      <b class="header" style="margin-top: 20px;">0.5.1
        <span class="timestamp"> &ndash; <small>Feb 24, 2010</small></span>
      </b>
      Improvements to null soaking with the existential operator, including
      soaks on indexed properties. Added conditions to <tt>while</tt> loops,
      so you can use them as filters with <tt>when</tt>, in the same manner as
      comprehensions.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.5.0
        <span class="timestamp"> &ndash; <small>Feb 21, 2010</small></span>
      </b>
      CoffeeScript 0.5.0 is a major release, While there are no language changes,
      the Ruby compiler has been removed in favor of a self-hosting
      compiler written in pure CoffeeScript.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.3.2
        <span class="timestamp"> &ndash; <small>Feb 8, 2010</small></span>
      </b>
      <tt>@property</tt> is now a shorthand for <tt>this.property</tt>.<br />
      Switched the default JavaScript engine from Narwhal to Node.js. Pass
      the <tt>--narwhal</tt> flag if you'd like to continue using it.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.3.0
        <span class="timestamp"> &ndash; <small>Jan 26, 2010</small></span>
      </b>
      CoffeeScript 0.3 includes major syntax changes:
      <br />
      The function symbol was changed to
      <tt>-></tt>, and the bound function symbol is now <tt>=></tt>.
      <br />
      Parameter lists in function definitions must now be wrapped in parentheses.
      <br />
      Added property soaking, with the <tt>?.</tt> operator.
      <br />
      Made parentheses optional, when invoking functions with arguments.
      <br />
      Removed the obsolete block literal syntax.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.6
        <span class="timestamp"> &ndash; <small>Jan 17, 2010</small></span>
      </b>
      Added Python-style chained comparisons, the conditional existence
      operator <tt>?=</tt>, and some examples from <i>Beautiful Code</i>.
      Bugfixes relating to statement-to-expression conversion, arguments-to-array
      conversion, and the TextMate syntax highlighter.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.5
        <span class="timestamp"> &ndash; <small>Jan 13, 2010</small></span>
      </b>
      The conditions in switch statements can now take multiple values at once &mdash;
      If any of them are true, the case will run. Added the long arrow <tt>==></tt>,
      which defines and immediately binds a function to <tt>this</tt>. While loops can
      now be used as expressions, in the same way that comprehensions can. Splats
      can be used within pattern matches to soak up the rest of an array.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.4
        <span class="timestamp"> &ndash; <small>Jan 12, 2010</small></span>
      </b>
      Added ECMAScript Harmony style destructuring assignment, for dealing with
      extracting values from nested arrays and objects. Added indentation-sensitive
      heredocs for nicely formatted strings or chunks of code.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.3
        <span class="timestamp"> &ndash; <small>Jan 11, 2010</small></span>
      </b>
      Axed the unsatisfactory <tt>ino</tt> keyword, replacing it with <tt>of</tt> for
      object comprehensions. They now look like: <tt>for prop, value of object</tt>.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.2
        <span class="timestamp"> &ndash; <small>Jan 10, 2010</small></span>
      </b>
      When performing a comprehension over an object, use <tt>ino</tt>, instead
      of <tt>in</tt>, which helps us generate smaller, more efficient code at
      compile time.
      <br />
      Added <tt>::</tt> as a shorthand for saying <tt>.prototype.</tt>
      <br />
      The "splat" symbol has been changed from a prefix asterisk <tt>*</tt>, to
      a postfix ellipsis <tt>...</tt>
      <br />
      Added JavaScript's <tt>in</tt> operator,
      empty <tt>return</tt> statements, and empty <tt>while</tt> loops.
      <br />
      Constructor functions that start with capital letters now include a
      safety check to make sure that the new instance of the object is returned.
      <br />
      The <tt>extends</tt> keyword now functions identically to <tt>goog.inherits</tt>
      in Google's Closure Library.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.1
        <span class="timestamp"> &ndash; <small>Jan 5, 2010</small></span>
      </b>
      Arguments objects are now converted into real arrays when referenced.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.2.0
        <span class="timestamp"> &ndash; <small>Jan 5, 2010</small></span>
      </b>
      Major release. Significant whitespace. Better statement-to-expression
      conversion. Splats. Splice literals. Object comprehensions. Blocks.
      The existential operator. Many thanks to all the folks who posted issues,
      with special thanks to
      <a href="http://github.com/liamoc">Liam O'Connor-Davis</a> for whitespace
      and expression help.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.6
        <span class="timestamp"> &ndash; <small>Dec 27, 2009</small></span>
      </b>
      Bugfix for running <tt>coffee --interactive</tt> and <tt>--run</tt>
      from outside of the CoffeeScript directory. Bugfix for nested
      function/if-statements.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.5
        <span class="timestamp"> &ndash; <small>Dec 26, 2009</small></span>
      </b>
      Array slice literals and array comprehensions can now both take Ruby-style
      ranges to specify the start and end. JavaScript variable declaration is
      now pushed up to the top of the scope, making all assignment statements into
      expressions. You can use <tt>\</tt> to escape newlines.
      The <tt>coffee-script</tt> command is now called <tt>coffee</tt>.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.4
        <span class="timestamp"> &ndash; <small>Dec 25, 2009</small></span>
      </b>
      The official CoffeeScript extension is now <tt>.coffee</tt> instead of
      <tt>.cs</tt>, which properly belongs to
      <a href="http://en.wikipedia.org/wiki/C_Sharp_(programming_language)">C#</a>.
      Due to popular demand, you can now also use <tt>=</tt> to assign. Unlike
      JavaScript, <tt>=</tt> can also be used within object literals, interchangeably
      with <tt>:</tt>. Made a grammatical fix for chained function calls
      like <tt>func(1)(2)(3)(4)</tt>. Inheritance and super no longer use
      <tt>__proto__</tt>, so they should be IE-compatible now.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.3
        <span class="timestamp"> &ndash; <small>Dec 25, 2009</small></span>
      </b>
      The <tt>coffee</tt> command now includes <tt>--interactive</tt>,
      which launches an interactive CoffeeScript session, and <tt>--run</tt>,
      which directly compiles and executes a script. Both options depend on a
      working installation of Narwhal.
      The <tt>aint</tt> keyword has been replaced by <tt>isnt</tt>, which goes
      together a little smoother with <tt>is</tt>.
      Quoted strings are now allowed as identifiers within object literals: eg.
      <tt>{"5+5": 10}</tt>.
      All assignment operators now use a colon: <tt>+:</tt>, <tt>-:</tt>,
      <tt>*:</tt>, etc.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.2
        <span class="timestamp"> &ndash; <small>Dec 24, 2009</small></span>
      </b>
      Fixed a bug with calling <tt>super()</tt> through more than one level of
      inheritance, with the re-addition of the <tt>extends</tt> keyword.
      Added experimental <a href="http://narwhaljs.org/">Narwhal</a>
      support (as a Tusk package), contributed by
      <a href="http://tlrobinson.net/">Tom Robinson</a>, including
      <b>bin/cs</b> as a CoffeeScript REPL and interpreter.
      New <tt>--no-wrap</tt> option to suppress the safety function
      wrapper.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.1
        <span class="timestamp"> &ndash; <small>Dec 24, 2009</small></span>
      </b>
      Added <tt>instanceof</tt> and <tt>typeof</tt> as operators.
    </p>

    <p>
      <b class="header" style="margin-top: 20px;">0.1.0
        <span class="timestamp"> &ndash; <small>Dec 24, 2009</small></span>
      </b>
      Initial CoffeeScript release.
    </p>

  </div>

  <script type="text/coffeescript">
    sourceFragment = "try:"

    # Set up the compilation function, to run when you stop typing.
    compileSource = ->
      source = $('#repl_source').val()
      window.compiledJS = ''
      try
        window.compiledJS = CoffeeScript.compile source, bare: on
        el = $('#repl_results')[0]
        if el.innerText
          el.innerText = window.compiledJS
        else
          $(el).text window.compiledJS
        $('#error').hide()
      catch error
        $('#error').text(error.message).show()

      # Update permalink
      $('#repl_permalink').attr 'href', "##{sourceFragment}#{encodeURIComponent source}"

    # Listen for keypresses and recompile.
    $('#repl_source').keyup -> compileSource()

    # Eval the compiled js.
    evalJS = ->
      try
        eval window.compiledJS
      catch error then alert error

    # Load the console with a string of CoffeeScript.
    window.loadConsole = (coffee) ->
      $('#repl_source').val coffee
      compileSource()
      $('.navigation.try').addClass('active')
      false

    # Helper to hide the menus.
    closeMenus = ->
      $('.navigation.active').removeClass 'active'

    $('.minibutton.run').click -> evalJS()

    # Bind navigation buttons to open the menus.
    $('.navigation').click (e) ->
      return if e.target.tagName.toLowerCase() is 'a'
      return false if $(e.target).closest('.repl_wrapper').length
      if $(this).hasClass('active')
        closeMenus()
      else
        closeMenus()
        $(this).addClass 'active'
      false

    # Dismiss console if Escape pressed or click falls outside console
    # Trigger Run button on Ctrl-Enter
    $(document.body)
      .keydown (e) ->
        closeMenus() if e.which == 27
        evalJS() if e.which == 13 and (e.metaKey or e.ctrlKey) and $('.minibutton.run:visible').length
      .click (e) ->
        return false if $(e.target).hasClass('minibutton')
        closeMenus()

    $('#open_webchat').click ->
      $(this).replaceWith $('<iframe src="http://webchat.freenode.net/?channels=coffeescript" width="625" height="400"></iframe>')

    $("#repl_permalink").click (e) ->
        window.location = $(this).attr("href")
        false

    # If source code is included in location.hash, display it.
    hash = decodeURIComponent location.hash.replace(/^#/, '')
    if hash.indexOf(sourceFragment) == 0
        src = hash.substr sourceFragment.length
        loadConsole src

    compileSource()

  </script>

  <script src="documentation/vendor/jquery-1.6.4.js"></script>
  <script src="extras/coffee-script.js"></script>

</body>
</html>
